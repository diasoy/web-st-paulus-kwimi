import{b as S,r as b,j as e,H as U,L as m,a as d}from"./app-CbBYUuCg.js";import{a as y,B as n}from"./createLucideIcon-Bd3SNI62.js";import{I as _}from"./input-DZTkCMb5.js";import{T as L,a as M,b as f,c as t,d as A,e as r}from"./table-DzI5soVz.js";import{A as R}from"./app-layout-CwT4ef-U.js";import{S as P}from"./search-CLLhzXKX.js";import{P as D}from"./plus-ClcZyZek.js";import{U as N}from"./index-1C-fG81f.js";import{E as F}from"./eye-BM-r0KgQ.js";import{S as H}from"./square-pen-BrGHSh6s.js";import{T as I}from"./trash-2-CN1mgTnf.js";/* empty css            */import"./sheet-QVMg6V7g.js";import"./index-CPofRVIu.js";import"./index-CLqdkHuK.js";import"./index-xfAVIELO.js";import"./index-jIoMpBw9.js";import"./index-CzW-oOjg.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z=[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]],E=y("Filter",z);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],B=y("RotateCcw",K),$={"pagination.next":"Berikutnya","pagination.previous":"Sebelumnya","pagination.first":"Pertama","pagination.last":"Terakhir"},q=s=>$[s]||s;function me({users:s,filters:o}){const{props:i}=S(),[c,h]=b.useState(o.search||""),[x,p]=b.useState(o.role||"umat"),u=()=>{d.get(route("admin.users"),{search:c,role:x},{preserveState:!0,replace:!0})},v=()=>{h(""),p("umat"),d.get(route("admin.users"),{role:"umat"})},w=(a,l)=>{confirm(`Apakah Anda yakin ingin menghapus Umat "${l}" secara permanen?`)&&d.delete(route("admin.users.destroy",a))};return e.jsxs(R,{children:[e.jsx(U,{title:"Manajemen Umat"}),e.jsxs("div",{className:"space-y-6 p-6",children:[i.flash?.success&&e.jsx("div",{className:"rounded-md border border-green-200 bg-green-50 px-4 py-3 text-sm text-green-800",children:i.flash.success}),i.flash?.error&&e.jsx("div",{className:"rounded-md border border-red-200 bg-red-50 px-4 py-3 text-sm text-red-800",children:i.flash.error}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Manajemen Umat"}),e.jsx("p",{className:"text-muted-foreground",children:"Kelola semua Umat sistem ST. Paulus Kwimi"})]}),e.jsxs("div",{className:"flex items-center justify-between gap-2",children:[e.jsxs("div",{className:"flex min-w-0 flex-1 items-center gap-2",children:[e.jsxs("div",{className:"relative w-full max-w-sm",children:[e.jsx(P,{className:"absolute top-2.5 left-2.5 h-4 w-4 text-muted-foreground"}),e.jsx(_,{type:"text",placeholder:"Cari nama atau email...",className:"h-9 pl-8 text-sm",value:c,onChange:a=>h(a.target.value),onKeyDown:a=>a.key==="Enter"&&u()})]}),e.jsxs("select",{className:"h-9 rounded-md border border-input bg-background px-2 text-sm",value:x,onChange:a=>p(a.target.value),children:[e.jsx("option",{value:"umat",children:"Umat"}),e.jsx("option",{value:"admin",children:"Admin"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(n,{onClick:u,variant:"default",size:"sm",className:"px-2 sm:px-4 text-white ",title:"Filter",children:[e.jsx(E,{className:"h-4 w-4 sm:mr-2"}),e.jsx("span",{className:"hidden sm:inline ",children:"Filter"})]}),e.jsxs(n,{onClick:v,size:"sm",className:"px-2 sm:px-4 border text-black cursor-pointer bg-white hover:bg-muted",title:"Reset",children:[e.jsx(B,{className:"h-4 w-4 sm:mr-2"}),e.jsx("span",{className:"hidden sm:inline",children:"Reset"})]})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(n,{asChild:!0,className:"shrink-0 px-2 sm:px-4 text-white hover:bg-primary/90",children:e.jsxs(m,{href:route("admin.users.create"),children:[e.jsx(D,{className:"h-4 w-4 sm:mr-2"}),e.jsx("span",{className:"hidden sm:inline",children:"Tambah Umat"})]})}),e.jsxs(n,{variant:"outline",className:"shrink-0 px-2 bg-secondary sm:px-4 border text-white hover:bg-secondary/90",onClick:()=>window.open(route("admin.users.exportpdf"),"_blank"),children:[e.jsx(N,{className:"h-4 w-4 sm:mr-2"}),e.jsx("span",{className:"hidden sm:inline",children:"Unduh Data Semua Umat"})]})]})]}),e.jsxs("div",{children:[e.jsx("div",{className:"rounded-md border",children:s.data.length>0?e.jsxs(L,{children:[e.jsx(M,{children:e.jsxs(f,{className:"bg-muted/60",children:[e.jsx(t,{children:"Nama"}),e.jsx(t,{children:"Tempat Lahir"}),e.jsx(t,{children:"Tanggal Lahir"}),e.jsx(t,{children:"Jenis Kelamin"}),e.jsx(t,{children:"Alamat"}),e.jsx(t,{children:"Umur"}),e.jsx(t,{children:"Kombas"}),e.jsx(t,{className:"text-right",children:"Aksi"})]})}),e.jsx(A,{children:s.data.map(a=>e.jsxs(f,{children:[e.jsx(r,{className:"font-medium",children:e.jsx("span",{className:"font-semibold",children:a.name})}),e.jsx(r,{children:a.birth_place||"-"}),e.jsx(r,{children:a.birth_date?new Date(a.birth_date).toLocaleDateString("id-ID",{day:"2-digit",month:"2-digit",year:"numeric"}):"-"}),e.jsx(r,{children:a.gender==="male"?"Laki-laki":a.gender==="female"?"Perempuan":"-"}),e.jsx(r,{children:a.address||"-"}),e.jsx(r,{children:a.age!==null&&a.age!==void 0?`${a.age} tahun`:"-"}),e.jsx(r,{children:a.community?a.community.name:"-"}),e.jsx(r,{className:"text-right",children:e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx(n,{variant:"outline",size:"sm",asChild:!0,className:"bg-secondary hover:bg-secondary/90",children:e.jsx(m,{href:route("admin.users.show",a.id),children:e.jsx(F,{className:"h-4 w-4"})})}),e.jsx(n,{variant:"outline",size:"sm",asChild:!0,className:"bg-primary hover:bg-primary/90",children:e.jsx(m,{href:route("admin.users.edit",a.id),children:e.jsx(H,{className:"h-4 w-4"})})}),e.jsx(n,{variant:"destructive",size:"sm",onClick:()=>w(a.id,a.name),children:e.jsx(I,{className:"h-4 w-4"})})]})})]},a.id))})]}):e.jsxs("div",{className:"py-12 text-center",children:[e.jsx(N,{className:"mx-auto h-12 w-12 text-muted-foreground/50"}),e.jsx("p",{className:"mt-4 text-lg font-medium",children:"Tidak ada Umat ditemukan"}),e.jsx("p",{className:"text-muted-foreground",children:"Coba ubah filter pencarian Anda"})]})}),s.data.length>0&&e.jsxs("div",{className:"mt-6 flex items-center justify-between border-t pt-6",children:[e.jsxs("div",{className:"text-sm text-muted-foreground",children:["Menampilkan ",s.data.length," dari ",s.total," Umat"]}),e.jsx("div",{className:"flex gap-2",children:s.links.map((a,l)=>{const j="px-3 py-1 rounded-md font-medium transition-all duration-150 border cursor-pointer",k="bg-secondary text-white border-secondary hover:opacity-80",C="bg-white text-secondary border-secondary hover:opacity-80",T="bg-secondary text-muted-foreground border-secondary opacity-60 cursor-not-allowed",g=q(a.label);return a.url?e.jsx("button",{className:j+" "+(a.active?k:C),onClick:()=>d.visit(a.url),dangerouslySetInnerHTML:{__html:g},type:"button"},l):e.jsx("button",{className:j+" "+T,disabled:!0,dangerouslySetInnerHTML:{__html:g},type:"button"},l)})})]})]})]})]})}export{me as default};
