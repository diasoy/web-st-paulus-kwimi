import{r as d,j as e,H as I,L as g,a as E}from"./app-DJE52jzI.js";import{C as D,a as C,b as M,c as S}from"./card-fLUWV0R-.js";import{B as _}from"./badge-CLZHchLf.js";import{A as T}from"./app-layout-DMnndpda.js";import{C as x}from"./calendar-BLrsP1W1.js";import{I as H}from"./image-BBceftoC.js";import{C as L}from"./clock-Brxt4yUt.js";import{M as A}from"./map-pin-CG-Lh8gl.js";import{E as B}from"./eye-CJ2SNDCj.js";import{c as K,f as W}from"./formatDistanceToNow-T1tYAkfs.js";import{n as F,s as f,c as P,f as c,i as o}from"./id-D0VV-xtL.js";import{i as $,a as z,b as q}from"./isTomorrow-BjD7Moel.js";/* empty css            */import"./createLucideIcon-CJtlI8RZ.js";import"./sheet-j-LzFc3K.js";import"./index-DukwErBs.js";import"./index-ZmknLHK-.js";import"./index-Cp-aNa-p.js";import"./index-AZp5F7oU.js";import"./index-DmKR0Y5O.js";import"./index-Bj2x4v8V.js";function G(r,n,l){const[s,m]=F(l?.in,r,n);return+f(s,l)==+f(m,l)}function O(r,n){return G(P(r,r),K(r),n)}const R={"pagination.next":"Berikutnya","pagination.previous":"Sebelumnya","pagination.first":"Pertama","pagination.last":"Terakhir"},J=r=>R[r]||r;function pe({activities:r}){const[n,l]=d.useState({}),[s,m]=d.useState("default"),[u,b]=d.useState(""),[h,j]=d.useState(""),w=()=>{const a={filter:s};s==="custom"&&(a.start_date=u,a.end_date=h),E.get("/umat/activities",a,{preserveScroll:!0})},N=a=>{l(t=>({...t,[a]:!0}))},v=a=>{try{const t=new Date(a);return{full:c(t,"EEEE, dd MMMM yyyy",{locale:o}),short:c(t,"dd MMM yyyy",{locale:o}),dayName:c(t,"EEEE",{locale:o}),relative:W(t,{addSuffix:!0,locale:o})}}catch{return{full:"Tanggal tidak valid",short:"Invalid",dayName:"Invalid",relative:"Invalid"}}},y=a=>{try{if(!a)return"Waktu belum ditentukan";const t=new Date(`2000-01-01 ${a}`);return c(t,"HH:mm",{locale:o})+" WIT"}catch{return"Waktu tidak valid"}},k=a=>{try{const t=new Date(a);return $(t)?{text:"Hari Ini",color:"bg-red-500 text-white"}:z(t)?{text:"Besok",color:"bg-orange-500 text-white"}:O(t)?{text:"Minggu Ini",color:"bg-blue-500 text-white"}:q(t)?{text:"Sudah Lewat",color:"bg-gray-400 text-white"}:{text:"Mendatang",color:"bg-secondary text-white"}}catch{return{text:"Invalid",color:"bg-gray-400 text-white"}}};return e.jsxs(T,{children:[e.jsx(I,{title:"Agenda Kegiatan"}),e.jsx("div",{className:"dashboard-gradient min-h-screen",style:{background:"linear-gradient(135deg, #1a4d20, #235829, #2d5f35)"},children:e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsx("div",{className:"mb-8",children:e.jsx("div",{className:"flex items-center justify-between mb-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"bg-white/20 backdrop-blur-sm p-3 rounded-full mr-4",children:e.jsx(x,{className:"h-8 w-8 text-white"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-4xl font-bold text-white drop-shadow-lg",children:"Agenda Kegiatan"}),e.jsx("p",{className:"text-lg text-white/90 drop-shadow-md",children:"Kegiatan dan acara Gereja St. Paulus Kwimi"})]})]})})}),e.jsxs("div",{className:"flex flex-wrap items-center gap-4 mb-8",children:[e.jsxs("select",{value:s,onChange:a=>m(a.target.value),className:"border rounded-lg px-3 py-2",children:[e.jsx("option",{value:"default",className:"text-black",children:"Semua Mendatang"}),e.jsx("option",{value:"week",className:"text-black",children:"Seminggu ke Depan"}),e.jsx("option",{value:"month",className:"text-black",children:"Sebulan ke Depan"}),e.jsx("option",{value:"custom",className:"text-black",children:"Custom"})]}),s==="custom"&&e.jsxs(e.Fragment,{children:[e.jsx("input",{type:"date",value:u,onChange:a=>b(a.target.value),className:"border rounded-lg px-3 py-2"}),e.jsx("input",{type:"date",value:h,onChange:a=>j(a.target.value),className:"border rounded-lg px-3 py-2"})]}),e.jsx("button",{onClick:w,className:"bg-secondary text-white px-4 py-2 rounded-lg hover:cursor-pointer",children:"Terapkan"})]}),r.data.length>0?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8",children:r.data.map(a=>{const t=v(a.date),i=y(a.time_start),p=k(a.date);return e.jsxs(D,{className:"group hover:shadow-lg transition-all duration-300 border-secondary/20 bg-white/80 backdrop-blur-sm overflow-hidden rounded-xl p-0",children:[e.jsxs("div",{className:"relative",children:[a.image_url&&!n[a.id]?e.jsx("div",{className:"aspect-video bg-gray-100 relative overflow-hidden",children:e.jsx("img",{src:a.image_url,alt:a.name,className:"absolute inset-0 w-full h-full object-cover rounded-t-xl group-hover:scale-105 transition-transform duration-300",onError:()=>N(a.id),loading:"lazy"})}):e.jsx("div",{className:"aspect-video bg-gray-100 flex items-center justify-center rounded-t-xl",children:e.jsx(H,{className:"h-12 w-12 text-secondary/50"})}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/20 to-transparent pointer-events-none rounded-t-xl"}),e.jsx("div",{className:"absolute top-3 right-3 z-10",children:e.jsx(_,{className:`${p.color} border-0 shadow-lg`,children:p.text})})]}),e.jsxs(C,{className:"pb-3",children:[e.jsx(M,{className:"text-xl text-church-dark group-hover:text-secondary transition-colors duration-300 line-clamp-2",children:a.name}),e.jsxs("div",{className:"space-y-2 text-sm text-church-text/80",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(x,{className:"h-4 w-4 mr-2 text-secondary"}),e.jsx("span",{title:t.full,children:t.short})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(L,{className:"h-4 w-4 mr-2 text-church-secondary"}),e.jsx("span",{children:i})]}),a.location&&e.jsxs("div",{className:"flex items-center",children:[e.jsx(A,{className:"h-4 w-4 mr-2 text-church-accent"}),e.jsx("span",{className:"truncate",children:a.location})]})]})]}),e.jsx(S,{className:"pt-0 pb-5",children:e.jsxs(g,{href:`/umat/activities/${a.id}`,className:"inline-flex items-center px-4 py-2 text-sm bg-secondary text-white rounded-lg hover:bg-secondary/90 transition-colors duration-300",children:[e.jsx(B,{className:"h-4 w-4 mr-2"}),"Lihat Detail"]})})]},a.id)})}):e.jsxs("div",{className:"text-center py-16",children:[e.jsx("div",{className:"bg-white/20 backdrop-blur-sm w-24 h-24 rounded-full flex items-center justify-center mx-auto mb-6",children:e.jsx(x,{className:"h-12 w-12 text-white"})}),e.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:"Belum Ada Kegiatan"}),e.jsx("p",{className:"text-white/80 max-w-md mx-auto",children:"Kegiatan atau acara gereja akan ditampilkan di sini ketika sudah dijadwalkan."})]}),r.last_page>1&&e.jsx("div",{className:"flex justify-center items-center space-x-2",children:r.links.map((a,t)=>{const i=J(a.label);return a.url?e.jsx(g,{href:a.url,className:`px-3 py-2 rounded-md border transition-colors duration-300 ${a.active?"bg-secondary text-white border-secondary":"bg-white/20 backdrop-blur-sm text-white border-white/20 hover:bg-white/30"}`,dangerouslySetInnerHTML:{__html:i}},t):e.jsx("span",{className:"px-3 py-2 text-white/60 bg-white/20 backdrop-blur-sm rounded-md border border-white/20",dangerouslySetInnerHTML:{__html:i}},t)})})]})})]})}export{pe as default};
