import{r as p,u as N,j as e,H as f,L as c}from"./app-DG9S_kzP.js";import{B as d}from"./createLucideIcon-DTit-LMh.js";import{C as v}from"./checkbox-Bsdo_TU_.js";import{I as w}from"./input-Y4w4QRn5.js";import{L as l}from"./label-DK1RqIEe.js";import{T as y}from"./textarea-dweOYb27.js";import{A as k}from"./app-layout-CTsA16X9.js";import{X as S}from"./sheet-jWgYkTuG.js";import{S as _}from"./save-Cwfj0DjW.js";/* empty css            */import"./index-DZSqHfyJ.js";import"./index-DaU9nUDN.js";import"./index-BvrUvCR_.js";import"./index-sOIWG3ll.js";import"./index-Dqxst0CE.js";import"./index-wYigfL04.js";import"./index-BCOFxnWW.js";function U({announcement:s}){const[o,h]=p.useState(""),m=p.useRef(null),{data:r,setData:i,post:g,processing:x,errors:t}=N({_method:"PUT",title:s.title,description:s.description,image:null,is_publish:s.is_publish}),u=a=>{a.preventDefault(),g(route("admin.announcements.update",s.id),{forceFormData:!0,preserveScroll:!0})},j=a=>{const n=a.target.files?.[0]||null;n&&n.size>2*1024*1024?(h("Ukuran gambar maksimal 2MB. Silakan pilih gambar lain."),i("image",null)):(h(""),i("image",n))},b=()=>{i("image",null),m.current&&(m.current.value="")};return e.jsxs(k,{children:[e.jsx(f,{title:`Edit Pengumuman - ${s.title}`}),e.jsxs("div",{className:"space-y-6 p-6 min-h-screen",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("nav",{className:"flex items-center text-sm text-white",children:[e.jsx(c,{href:route("admin.announcements.index"),className:"hover:text-gray-300 transition-colors",children:"Pengumuman"}),e.jsx("span",{className:"mx-2 text-gray-300",children:"/"}),e.jsx(c,{href:route("admin.announcements.show",s.id),className:"hover:text-gray-300 transition-colors",children:"Detail"}),e.jsx("span",{className:"mx-2 text-gray-300",children:"/"}),e.jsx("span",{className:"text-white font-medium",children:"Edit"})]}),e.jsx("h1",{className:"text-2xl font-bold tracking-tight text-white",children:"Edit Pengumuman"})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-white mb-6",children:"Form Pengumuman"}),e.jsxs("form",{onSubmit:u,className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2",children:[e.jsxs("div",{className:"md:col-span-2",children:[e.jsx(l,{htmlFor:"title",className:"text-white",children:"Judul Pengumuman *"}),e.jsx(w,{id:"title",type:"text",value:r.title,onChange:a=>i("title",a.target.value),className:t.title?"border-red-500 bg-white":"bg-white text-black",required:!0}),t.title&&e.jsx("p",{className:"mt-1 text-sm text-red-500",children:t.title})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx(l,{htmlFor:"description",className:"text-white",children:"Deskripsi Singkat *"}),e.jsx(y,{id:"description",value:r.description,onChange:a=>i("description",a.target.value),className:t.description?"border-red-500 bg-white":"bg-white text-black",rows:4,required:!0}),t.description&&e.jsx("p",{className:"mt-1 text-sm text-red-500",children:t.description})]}),s.image_url&&e.jsxs("div",{className:"md:col-span-2",children:[e.jsx(l,{className:"text-white",children:"Gambar Saat Ini"}),e.jsx("div",{className:"mt-2",children:e.jsx("img",{src:`/storage/${s.image_url}`,alt:s.title,className:"h-40 rounded-md border"})})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx(l,{htmlFor:"image",className:"text-white",children:"Ganti Gambar (opsional)"}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("input",{ref:m,id:"image",type:"file",accept:"image/*",onChange:j,className:`bg-white text-black ${t.image?"border-red-500":""}`}),o&&e.jsx("div",{style:{color:"red",fontSize:"0.875rem",marginLeft:8},children:o}),r.image&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-sm text-gray-300",children:r.image.name}),e.jsx(d,{type:"button",variant:"ghost",size:"sm",onClick:b,className:"h-6 w-6 p-0",children:e.jsx(S,{className:"h-3 w-3"})})]})]}),t.image&&e.jsx("p",{className:"mt-1 text-sm text-red-500",children:t.image})]}),e.jsx("div",{className:"md:col-span-2",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(v,{id:"is_publish",checked:!!r.is_publish,onCheckedChange:a=>i("is_publish",!!a)}),e.jsx(l,{htmlFor:"is_publish",className:"text-sm text-white",children:"Publikasikan"})]})})]}),e.jsxs("div",{className:"flex justify-end gap-4",children:[e.jsx(c,{href:route("admin.announcements.show",s.id),children:e.jsx(d,{type:"button",variant:"outline",className:"bg-white text-gray-700 border-gray-300 hover:bg-gray-50",children:"Batal"})}),e.jsxs(d,{type:"submit",disabled:x,className:"bg-green-600 text-white hover:bg-green-700 disabled:bg-green-400",children:[e.jsx(_,{className:"mr-2 h-4 w-4"}),x?"Menyimpan...":"Simpan Perubahan"]})]})]})]})]})]})}export{U as default};
