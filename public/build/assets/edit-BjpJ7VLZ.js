import{u as _,r as w,j as e,H as C,L as g}from"./app-Bo1DFqWz.js";import{B as u}from"./createLucideIcon-Bil8Kc_v.js";import{I as c}from"./input-BCFRjO49.js";import{L as i}from"./label-CxIgDlj6.js";import{T as d,a as $}from"./triangle-alert-Cny2tiX-.js";import{A as D}from"./app-layout-Dl_IYEcv.js";import{S as F}from"./square-pen-CVK2kbao.js";import{C as L}from"./calendar-DagUCt8C.js";import{U as A}from"./upload-DNu_XvLj.js";import{X as E}from"./sheet-CwZi8wjr.js";import{A as T}from"./arrow-left-DUqk3DVm.js";import{L as I}from"./loader-circle-Pg1xO7wA.js";import{S as K}from"./save-Bx-dzV6y.js";/* empty css            */import"./index-B-jpS9hG.js";import"./index-DtD7HzNV.js";import"./index-CJtECQWY.js";import"./index-DZqeouXQ.js";import"./index-CxU5OcDh.js";import"./index-DTKqdHoK.js";function te({activity:t}){const b=r=>{if(!r)return"";if(/^\d{2}:\d{2}/.test(r))return r.substring(0,5);try{const s=new Date(`2000-01-01T${r}`),h=String(s.getHours()).padStart(2,"0"),x=String(s.getMinutes()).padStart(2,"0");return`${h}:${x}`}catch{return""}},j=r=>{if(!r)return"";const s=new Date(r);if(isNaN(s.getTime()))return"";const h=s.getFullYear(),x=String(s.getMonth()+1).padStart(2,"0"),S=String(s.getDate()).padStart(2,"0");return`${h}-${x}-${S}`},{data:o,setData:l,post:N,processing:p,errors:a}=_({name:t.name,description:t.description,date:j(t.date),time_start:b(t.time_start),location:t.location||"",image:null,_method:"PUT"}),[f,m]=w.useState(""),n=w.useRef(null),v=r=>{r.preventDefault(),l("time_start",b(o.time_start)),N(route("admin.activities.update",t.id),{forceFormData:!0,preserveScroll:!0})},k=r=>{const s=r.target.files?.[0]||null;s&&s.size>2*1024*1024?(m("Ukuran gambar maksimal 2MB. Silakan pilih gambar lain."),l("image",null)):(m(""),l("image",s))},y=()=>{l("image",null),n.current&&(n.current.value=""),m("")};return e.jsxs(D,{children:[e.jsx(C,{title:`Edit Kegiatan - ${t.name}`}),e.jsx("div",{className:"dashboard-gradient min-h-screen",style:{background:"linear-gradient(135deg, #0f2027, #203a43, #2c5364)"},children:e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsx("div",{className:"mb-8",children:e.jsxs("nav",{className:"flex items-center space-x-2 text-sm",children:[e.jsx(g,{href:"/admin/dashboard",className:"text-white/70 hover:text-white transition-colors",children:"Dashboard"}),e.jsx("span",{className:"text-white/50",children:"/"}),e.jsx(g,{href:"/admin/activities",className:"text-white/70 hover:text-white transition-colors",children:"Agenda Kegiatan"}),e.jsx("span",{className:"text-white/50",children:"/"}),e.jsx(g,{href:`/admin/activities/${t.id}`,className:"text-white/70 hover:text-white transition-colors",children:"Detail"}),e.jsx("span",{className:"text-white/50",children:"/"}),e.jsx("span",{className:"text-white font-medium",children:"Edit"})]})}),e.jsx("div",{className:"bg-gradient-to-r from-yellow-500 via-orange-500 to-red-500 backdrop-blur-sm rounded-2xl shadow-2xl p-8 mb-8 border border-white/20",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-4xl font-bold text-white mb-2 flex items-center gap-3",children:[e.jsx(F,{className:"h-10 w-10 text-white"}),"Edit Kegiatan"]}),e.jsxs("p",{className:"text-orange-100 text-lg",children:['Perbarui informasi kegiatan "',t.name,'"']})]}),e.jsx("div",{className:"hidden md:block",children:e.jsx("div",{className:"bg-white/20 backdrop-blur-sm rounded-full p-6",children:e.jsx(L,{className:"h-16 w-16 text-white"})})})]})}),e.jsx("div",{className:"bg-white/95 dark:bg-slate-800/95 backdrop-blur-sm rounded-2xl shadow-2xl p-8 border border-white/20",children:e.jsx("form",{onSubmit:v,className:"space-y-8",children:e.jsxs("div",{className:"grid grid-cols-1 gap-8 md:grid-cols-2",children:[e.jsxs("div",{className:"md:col-span-2",children:[e.jsx(i,{htmlFor:"name",className:"text-base font-bold text-gray-900 dark:text-white mb-2 block",children:"Nama Kegiatan *"}),e.jsx(c,{id:"name",type:"text",value:o.name,onChange:r=>l("name",r.target.value),placeholder:"Contoh: Retreat Remaja",className:`bg-white dark:bg-slate-800 backdrop-blur-sm border-2 transition-all duration-300 text-gray-900 dark:text-white placeholder:text-gray-500 dark:placeholder:text-gray-400 ${a.name?"border-red-300 focus:border-red-500 focus:ring-red-200":"border-yellow-200 dark:border-yellow-600 focus:border-orange-500 focus:ring-orange-200 hover:border-yellow-300"} focus:ring-4 focus:ring-offset-2 rounded-xl shadow-sm hover:shadow-md`,required:!0}),a.name&&e.jsxs("p",{className:"mt-2 text-sm text-red-600 flex items-center gap-1",children:[e.jsx(d,{className:"h-4 w-4"}),a.name]})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"date",className:"text-base font-bold text-gray-900 dark:text-white mb-2 block",children:"Tanggal *"}),e.jsx(c,{id:"date",type:"date",value:o.date,onChange:r=>l("date",r.target.value),className:`bg-white dark:bg-slate-800 backdrop-blur-sm border-2 transition-all duration-300 text-gray-900 dark:text-white ${a.date?"border-red-300 focus:border-red-500 focus:ring-red-200":"border-yellow-200 dark:border-yellow-600 focus:border-orange-500 focus:ring-orange-200 hover:border-yellow-300"} focus:ring-4 focus:ring-offset-2 rounded-xl shadow-sm hover:shadow-md`,required:!0}),a.date&&e.jsxs("p",{className:"mt-2 text-sm text-red-600 flex items-center gap-1",children:[e.jsx(d,{className:"h-4 w-4"}),a.date]})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"time_start",className:"text-base font-bold text-gray-900 dark:text-white mb-2 block",children:"Waktu Mulai *"}),e.jsx(c,{id:"time_start",type:"time",value:o.time_start,onChange:r=>l("time_start",r.target.value),className:`bg-white dark:bg-slate-800 backdrop-blur-sm border-2 transition-all duration-300 text-gray-900 dark:text-white ${a.time_start?"border-red-300 focus:border-red-500 focus:ring-red-200":"border-yellow-200 dark:border-yellow-600 focus:border-orange-500 focus:ring-orange-200 hover:border-yellow-300"} focus:ring-4 focus:ring-offset-2 rounded-xl shadow-sm hover:shadow-md`,required:!0}),a.time_start&&e.jsxs("p",{className:"mt-2 text-sm text-red-600 flex items-center gap-1",children:[e.jsx(d,{className:"h-4 w-4"}),a.time_start]})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx(i,{htmlFor:"location",className:"text-base font-bold text-gray-900 dark:text-white mb-2 block",children:"Lokasi *"}),e.jsx(c,{id:"location",type:"text",value:o.location,onChange:r=>l("location",r.target.value),placeholder:"Contoh: Aula Gereja ST. Paulus Kwimi",className:`bg-white dark:bg-slate-800 backdrop-blur-sm border-2 transition-all duration-300 text-gray-900 dark:text-white placeholder:text-gray-500 dark:placeholder:text-gray-400 ${a.location?"border-red-300 focus:border-red-500 focus:ring-red-200":"border-yellow-200 dark:border-yellow-600 focus:border-orange-500 focus:ring-orange-200 hover:border-yellow-300"} focus:ring-4 focus:ring-offset-2 rounded-xl shadow-sm hover:shadow-md`,required:!0}),a.location&&e.jsxs("p",{className:"mt-2 text-sm text-red-600 flex items-center gap-1",children:[e.jsx(d,{className:"h-4 w-4"}),a.location]})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx(i,{htmlFor:"description",className:"text-base font-bold text-gray-900 dark:text-white mb-2 block",children:"Deskripsi Kegiatan *"}),e.jsx($,{id:"description",value:o.description,onChange:r=>l("description",r.target.value),placeholder:"Deskripsi singkat tentang kegiatan...",className:`bg-white dark:bg-slate-800 backdrop-blur-sm border-2 transition-all duration-300 text-gray-900 dark:text-white placeholder:text-gray-500 dark:placeholder:text-gray-400 ${a.description?"border-red-300 focus:border-red-500 focus:ring-red-200":"border-yellow-200 dark:border-yellow-600 focus:border-orange-500 focus:ring-orange-200 hover:border-yellow-300"} focus:ring-4 focus:ring-offset-2 rounded-xl shadow-sm hover:shadow-md`,rows:4,required:!0}),a.description&&e.jsxs("p",{className:"mt-2 text-sm text-red-600 flex items-center gap-1",children:[e.jsx(d,{className:"h-4 w-4"}),a.description]})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx(i,{htmlFor:"image",className:"text-base font-bold text-gray-900 dark:text-white mb-2 block",children:"Gambar Kegiatan (Opsional)"}),e.jsxs("div",{className:"space-y-4",children:[t.image_url&&!o.image&&e.jsxs("div",{className:"relative w-32 h-32 rounded-xl overflow-hidden bg-gray-100 border border-yellow-200",children:[e.jsx("img",{src:t.image_url,alt:"Current",className:"w-full h-full object-cover"}),e.jsx("div",{className:"absolute inset-0 bg-black/40 flex items-center justify-center",children:e.jsx("span",{className:"text-white text-xs font-medium",children:"Gambar Saat Ini"})})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("input",{ref:n,type:"file",accept:"image/*",onChange:k,className:"hidden"}),e.jsxs(u,{type:"button",onClick:()=>n.current?.click(),className:"bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 text-white rounded-xl shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-105",children:[e.jsx(A,{className:"mr-2 h-5 w-5"}),o.image?"Ganti Gambar":"Pilih Gambar Baru"]}),e.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Maksimal 2MB"})]}),o.image&&e.jsxs("div",{className:"relative w-32 h-32 rounded-xl overflow-hidden bg-gray-100 border border-yellow-200",children:[e.jsx("img",{src:URL.createObjectURL(o.image),alt:"Preview",className:"w-full h-full object-cover"}),e.jsx("button",{type:"button",onClick:y,className:"absolute top-2 right-2 bg-red-500 hover:bg-red-600 text-white rounded-full p-1 transition-all duration-300 hover:scale-110",children:e.jsx(E,{className:"h-4 w-4"})})]}),f&&e.jsxs("p",{className:"text-sm text-red-600 flex items-center gap-1",children:[e.jsx(d,{className:"h-4 w-4"}),f]}),a.image&&e.jsxs("p",{className:"text-sm text-red-600 flex items-center gap-1",children:[e.jsx(d,{className:"h-4 w-4"}),a.image]})]})]}),e.jsxs("div",{className:"md:col-span-2 flex justify-end space-x-4 pt-4",children:[e.jsxs(u,{type:"button",variant:"outline",onClick:()=>window.history.back(),className:"px-8 py-3 bg-white/80 dark:bg-slate-800/80 backdrop-blur-sm border-2 border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-slate-700 hover:border-gray-400 dark:hover:border-gray-500 transition-all duration-300 rounded-xl shadow-sm hover:shadow-md hover:scale-105",children:[e.jsx(T,{className:"mr-2 h-5 w-5"}),"Batal"]}),e.jsx(u,{type:"submit",disabled:p,className:"px-8 py-3 bg-gradient-to-r from-yellow-500 to-orange-500 hover:from-yellow-600 hover:to-orange-600 text-white font-semibold rounded-xl shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-105 border-0 disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:scale-100",children:p?e.jsxs(e.Fragment,{children:[e.jsx(I,{className:"mr-2 h-5 w-5 animate-spin"}),"Menyimpan..."]}):e.jsxs(e.Fragment,{children:[e.jsx(K,{className:"mr-2 h-5 w-5"}),"Simpan Perubahan"]})})]})]})})})]})})]})}export{te as default};
