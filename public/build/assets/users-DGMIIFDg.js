import{b as w,r as g,j as e,H as C,L as c,a as d}from"./app-DkzbERVO.js";import{B as k}from"./badge-DiL-dmsG.js";import{c as N,B as t}from"./createLucideIcon-DBWVl7rG.js";import{I as T}from"./input-CDkQpHWx.js";import{T as S,a as _,b as f,c as r,d as A,e as n}from"./table-hlFHCk4X.js";import{A as P,U as b}from"./app-layout-DwLWoKdy.js";import{S as M}from"./search-GTw-X5MG.js";import{P as R}from"./plus-BbM5HVOj.js";import{E as L}from"./eye-BL0b90I7.js";import{S as U}from"./square-pen-DFQ3TBWY.js";import{T as B}from"./trash-2-XRnCX0ww.js";import{U as F}from"./index-CqsrO3pv.js";/* empty css            */import"./sheet-C5F_08mq.js";import"./index-CIulx04S.js";import"./index-BmohLaKw.js";import"./index-t1cKyorZ.js";import"./index-DXzTdasX.js";import"./index-CVpUF0yU.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H=[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]],z=N("Filter",H);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],I=N("RotateCcw",E);function ce({users:a,filters:m}){const{props:i}=w(),[o,x]=g.useState(m.search||""),[h,u]=g.useState(m.role||"umat"),p=()=>{d.get(route("admin.users"),{search:o,role:h},{preserveState:!0,replace:!0})},v=()=>{x(""),u("umat"),d.get(route("admin.users"),{role:"umat"})},y=(s,l)=>{confirm(`Apakah Anda yakin ingin menghapus pengguna "${l}" secara permanen?`)&&d.delete(route("admin.users.destroy",s))};return e.jsxs(P,{children:[e.jsx(C,{title:"Manajemen Pengguna"}),e.jsxs("div",{className:"space-y-6 p-6",children:[i.flash?.success&&e.jsx("div",{className:"rounded-md border border-green-200 bg-green-50 px-4 py-3 text-sm text-green-800",children:i.flash.success}),i.flash?.error&&e.jsx("div",{className:"rounded-md border border-red-200 bg-red-50 px-4 py-3 text-sm text-red-800",children:i.flash.error}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Manajemen Pengguna"}),e.jsx("p",{className:"text-muted-foreground",children:"Kelola semua pengguna sistem ST. Paulus Kwimi"})]}),e.jsxs("div",{className:"flex items-center justify-between gap-2",children:[e.jsxs("div",{className:"flex min-w-0 flex-1 items-center gap-2",children:[e.jsxs("div",{className:"relative w-full max-w-sm",children:[e.jsx(M,{className:"absolute top-2.5 left-2.5 h-4 w-4 text-muted-foreground"}),e.jsx(T,{type:"text",placeholder:"Cari nama atau email...",className:"h-9 pl-8 text-sm",value:o,onChange:s=>x(s.target.value),onKeyDown:s=>s.key==="Enter"&&p()})]}),e.jsxs("select",{className:"h-9 rounded-md border border-input bg-background px-2 text-sm",value:h,onChange:s=>u(s.target.value),children:[e.jsx("option",{value:"umat",children:"Umat"}),e.jsx("option",{value:"admin",children:"Admin"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(t,{onClick:p,variant:"default",size:"sm",className:"px-2 sm:px-4 text-white ",title:"Filter",children:[e.jsx(z,{className:"h-4 w-4 sm:mr-2"}),e.jsx("span",{className:"hidden sm:inline ",children:"Filter"})]}),e.jsxs(t,{onClick:v,size:"sm",className:"px-2 sm:px-4 border text-black cursor-pointer bg-white hover:bg-muted",title:"Reset",children:[e.jsx(I,{className:"h-4 w-4 sm:mr-2"}),e.jsx("span",{className:"hidden sm:inline",children:"Reset"})]})]})]}),e.jsx(t,{asChild:!0,className:"shrink-0 px-2 sm:px-4 text-white hover:bg-primary/90",children:e.jsxs(c,{href:route("admin.users.create"),children:[e.jsx(R,{className:"h-4 w-4 sm:mr-2"}),e.jsx("span",{className:"hidden sm:inline",children:"Tambah Pengguna"})]})})]}),e.jsxs("div",{children:[e.jsx("div",{className:"rounded-md border",children:a.data.length>0?e.jsxs(S,{children:[e.jsx(_,{children:e.jsxs(f,{className:"bg-muted/60",children:[e.jsx(r,{children:"Nama Pengguna"}),e.jsx(r,{children:"Komunitas Basis"}),e.jsx(r,{children:"Gender"}),e.jsx(r,{children:"Status"}),e.jsx(r,{className:"text-right",children:"Aksi"})]})}),e.jsx(A,{children:a.data.map(s=>e.jsxs(f,{children:[e.jsx(n,{className:"font-medium",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-full bg-primary/10",children:e.jsx("span",{className:"text-sm font-medium",children:s.name.charAt(0).toUpperCase()})}),e.jsx("span",{className:"font-semibold",children:s.name})]})}),e.jsx(n,{children:s.community?e.jsx("span",{className:"text-sm",children:s.community.name}):e.jsx("span",{className:"text-sm text-muted-foreground",children:"-"})}),e.jsx(n,{children:e.jsx("div",{className:"flex h-8 w-8 items-center justify-center",children:s.gender==="male"?e.jsx("div",{className:"flex h-6 w-6 items-center justify-center rounded-full bg-blue-100 text-blue-600",children:e.jsx(b,{className:"h-4 w-4"})}):e.jsx("div",{className:"flex h-6 w-6 items-center justify-center rounded-full bg-pink-100 text-pink-600",children:e.jsx(b,{className:"h-4 w-4"})})})}),e.jsx(n,{children:e.jsx(k,{variant:s.status==="active"?"default":"destructive",className:s.status==="active"?"bg-green-100 text-green-800 hover:bg-green-200":"",children:s.status==="active"?"Aktif":"Nonaktif"})}),e.jsx(n,{className:"text-right",children:e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx(t,{variant:"outline",size:"sm",asChild:!0,className:"bg-secondary hover:bg-secondary/90",children:e.jsx(c,{href:route("admin.users.show",s.id),children:e.jsx(L,{className:"h-4 w-4"})})}),e.jsx(t,{variant:"outline",size:"sm",asChild:!0,className:"bg-primary hover:bg-primary/90",children:e.jsx(c,{href:route("admin.users.edit",s.id),children:e.jsx(U,{className:"h-4 w-4"})})}),e.jsx(t,{variant:"destructive",size:"sm",onClick:()=>y(s.id,s.name),children:e.jsx(B,{className:"h-4 w-4"})})]})})]},s.id))})]}):e.jsxs("div",{className:"py-12 text-center",children:[e.jsx(F,{className:"mx-auto h-12 w-12 text-muted-foreground/50"}),e.jsx("p",{className:"mt-4 text-lg font-medium",children:"Tidak ada pengguna ditemukan"}),e.jsx("p",{className:"text-muted-foreground",children:"Coba ubah filter pencarian Anda"})]})}),a.data.length>0&&e.jsxs("div",{className:"mt-6 flex items-center justify-between border-t pt-6",children:[e.jsxs("div",{className:"text-sm text-muted-foreground",children:["Menampilkan ",a.data.length," dari ",a.total," pengguna"]}),e.jsx("div",{className:"flex gap-2",children:a.links.map((s,l)=>{const j="px-3 py-1 rounded-md font-medium transition-all duration-150 border cursor-pointer";return s.url?e.jsx("button",{className:j+" "+(s.active?"bg-secondary text-white border-secondary hover:opacity-80":"bg-white text-secondary border-secondary hover:opacity-80"),onClick:()=>d.visit(s.url),dangerouslySetInnerHTML:{__html:s.label},type:"button"},l):e.jsx("button",{className:j+" "+"bg-secondary text-muted-foreground border-secondary opacity-60 cursor-not-allowed",disabled:!0,dangerouslySetInnerHTML:{__html:s.label},type:"button"},l)})})]})]})]})]})}export{ce as default};
