import{r as c,j as e,H as I,L as g,a as E}from"./app-C6gMg_n5.js";import{C as D,a as C,b as M,c as S}from"./card-Vci2eeqr.js";import{B as _}from"./badge-k8GmZuBa.js";import{A as T}from"./app-layout-DEqCZiHy.js";import{C as u}from"./calendar-5RtPMUK1.js";import{I as H}from"./image-BF_MAYaa.js";import{C as L}from"./clock-DFW_lSP6.js";import{M as A}from"./map-pin-CYxV1TZ2.js";import{E as B}from"./eye-BL9kNlIv.js";import{c as K,f as W}from"./formatDistanceToNow-T1tYAkfs.js";import{n as F,s as f,c as P,f as d,i as l}from"./id-D0VV-xtL.js";import{i as $,a as z,b as q}from"./isTomorrow-BjD7Moel.js";/* empty css            */import"./createLucideIcon-CCJLh033.js";import"./sheet-C_jGxhCv.js";import"./index-DWDvq47i.js";import"./index-DhbgspBr.js";import"./index-jlQ9R2_E.js";import"./index-F6TSubN6.js";import"./index-3ETa40gf.js";import"./index-CwTkrfdC.js";function G(r,n,o){const[s,m]=F(o?.in,r,n);return+f(s,o)==+f(m,o)}function O(r,n){return G(P(r,r),K(r),n)}const R={"pagination.next":"Berikutnya","pagination.previous":"Sebelumnya","pagination.first":"Pertama","pagination.last":"Terakhir"},J=r=>R[r]||r;function pe({activities:r}){const[n,o]=c.useState({}),[s,m]=c.useState("default"),[x,j]=c.useState(""),[h,b]=c.useState(""),y=()=>{const a={filter:s};s==="custom"&&(a.start_date=x,a.end_date=h),E.get("/umat/activities",a,{preserveScroll:!0})},N=a=>{o(t=>({...t,[a]:!0}))},v=a=>{try{const t=new Date(a);return{full:d(t,"EEEE, dd MMMM yyyy",{locale:l}),short:d(t,"dd MMM yyyy",{locale:l}),dayName:d(t,"EEEE",{locale:l}),relative:W(t,{addSuffix:!0,locale:l})}}catch{return{full:"Tanggal tidak valid",short:"Invalid",dayName:"Invalid",relative:"Invalid"}}},w=a=>{try{if(!a)return"Waktu belum ditentukan";const t=new Date(`2000-01-01 ${a}`);return d(t,"HH:mm",{locale:l})+" WITA"}catch{return"Waktu tidak valid"}},k=a=>{try{const t=new Date(a);return $(t)?{text:"Hari Ini",color:"bg-red-500 text-white"}:z(t)?{text:"Besok",color:"bg-orange-500 text-white"}:O(t)?{text:"Minggu Ini",color:"bg-blue-500 text-white"}:q(t)?{text:"Sudah Lewat",color:"bg-gray-400 text-white"}:{text:"Mendatang",color:"bg-secondary text-white"}}catch{return{text:"Invalid",color:"bg-gray-400 text-white"}}};return e.jsxs(T,{children:[e.jsx(I,{title:"Agenda Kegiatan"}),e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-church-cream via-white to-church-light",children:e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsx("div",{className:"mb-8",children:e.jsx("div",{className:"flex items-center justify-between mb-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"bg-secondary/10 p-3 rounded-full mr-4",children:e.jsx(u,{className:"h-8 w-8 text-secondary"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-4xl font-bold text-church-dark",children:"Agenda Kegiatan"}),e.jsx("p",{className:"text-lg text-church-text/80",children:"Kegiatan dan acara Gereja St. Paulus Kwimi"})]})]})})}),e.jsxs("div",{className:"flex flex-wrap items-center gap-4 mb-8",children:[e.jsxs("select",{value:s,onChange:a=>m(a.target.value),className:"border rounded-lg px-3 py-2",children:[e.jsx("option",{value:"default",children:"Semua Mendatang"}),e.jsx("option",{value:"week",children:"Seminggu ke Depan"}),e.jsx("option",{value:"month",children:"Sebulan ke Depan"}),e.jsx("option",{value:"custom",children:"Custom"})]}),s==="custom"&&e.jsxs(e.Fragment,{children:[e.jsx("input",{type:"date",value:x,onChange:a=>j(a.target.value),className:"border rounded-lg px-3 py-2"}),e.jsx("input",{type:"date",value:h,onChange:a=>b(a.target.value),className:"border rounded-lg px-3 py-2"})]}),e.jsx("button",{onClick:y,className:"bg-secondary text-white px-4 py-2 rounded-lg hover:cursor-pointer",children:"Terapkan"})]}),r.data.length>0?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8",children:r.data.map(a=>{const t=v(a.date),i=w(a.time_start),p=k(a.date);return e.jsxs(D,{className:"group hover:shadow-lg transition-all duration-300 border-secondary/20 bg-white/80 backdrop-blur-sm overflow-hidden rounded-xl p-0",children:[e.jsxs("div",{className:"relative",children:[a.image_url&&!n[a.id]?e.jsx("div",{className:"aspect-video bg-gray-100 relative overflow-hidden",children:e.jsx("img",{src:a.image_url,alt:a.name,className:"absolute inset-0 w-full h-full object-cover rounded-t-xl group-hover:scale-105 transition-transform duration-300",onError:()=>N(a.id),loading:"lazy"})}):e.jsx("div",{className:"aspect-video bg-gray-100 flex items-center justify-center rounded-t-xl",children:e.jsx(H,{className:"h-12 w-12 text-secondary/50"})}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/20 to-transparent pointer-events-none rounded-t-xl"}),e.jsx("div",{className:"absolute top-3 right-3 z-10",children:e.jsx(_,{className:`${p.color} border-0 shadow-lg`,children:p.text})})]}),e.jsxs(C,{className:"pb-3",children:[e.jsx(M,{className:"text-xl text-church-dark group-hover:text-secondary transition-colors duration-300 line-clamp-2",children:a.name}),e.jsxs("div",{className:"space-y-2 text-sm text-church-text/80",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(u,{className:"h-4 w-4 mr-2 text-secondary"}),e.jsx("span",{title:t.full,children:t.short})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(L,{className:"h-4 w-4 mr-2 text-church-secondary"}),e.jsx("span",{children:i})]}),a.location&&e.jsxs("div",{className:"flex items-center",children:[e.jsx(A,{className:"h-4 w-4 mr-2 text-church-accent"}),e.jsx("span",{className:"truncate",children:a.location})]})]})]}),e.jsx(S,{className:"pt-0 pb-5",children:e.jsxs(g,{href:`/umat/activities/${a.id}`,className:"inline-flex items-center px-4 py-2 text-sm bg-secondary text-white rounded-lg hover:bg-secondary/90 transition-colors duration-300",children:[e.jsx(B,{className:"h-4 w-4 mr-2"}),"Lihat Detail"]})})]},a.id)})}):e.jsxs("div",{className:"text-center py-16",children:[e.jsx("div",{className:"bg-secondary/10 w-24 h-24 rounded-full flex items-center justify-center mx-auto mb-6",children:e.jsx(u,{className:"h-12 w-12 text-secondary/50"})}),e.jsx("h3",{className:"text-xl font-semibold text-church-dark mb-2",children:"Belum Ada Kegiatan"}),e.jsx("p",{className:"text-church-text/70 max-w-md mx-auto",children:"Kegiatan atau acara gereja akan ditampilkan di sini ketika sudah dijadwalkan."})]}),r.last_page>1&&e.jsx("div",{className:"flex justify-center items-center space-x-2",children:r.links.map((a,t)=>{const i=J(a.label);return a.url?e.jsx(g,{href:a.url,className:`px-3 py-2 rounded-md border transition-colors duration-300 ${a.active?"bg-secondary text-white border-secondary":"bg-white/70 text-church-dark border-secondary/20 hover:bg-secondary/10"}`,dangerouslySetInnerHTML:{__html:i}},t):e.jsx("span",{className:"px-3 py-2 text-church-text/50 bg-white/50 rounded-md border border-secondary/10",dangerouslySetInnerHTML:{__html:i}},t)})})]})})]})}export{pe as default};
