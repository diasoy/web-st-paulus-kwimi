import{u as b,j as e,H as v,L as o}from"./app-CbBYUuCg.js";import{B as h}from"./createLucideIcon-Bd3SNI62.js";import{C,a as k,b as y,c as _}from"./card-Ca4XWJ83.js";import{C as F}from"./checkbox-U2msu277.js";import{I as n}from"./input-DZTkCMb5.js";import{L as m}from"./label-DA6jNFgg.js";import{A as D}from"./app-layout-CwT4ef-U.js";import{S as E}from"./save-Brh1f1CM.js";/* empty css            */import"./index-1C-fG81f.js";import"./index-CCp_VicW.js";import"./index-CzW-oOjg.js";import"./index-xfAVIELO.js";import"./index-CLqdkHuK.js";import"./sheet-QVMg6V7g.js";import"./index-CPofRVIu.js";import"./index-jIoMpBw9.js";function z({worshipSchedule:s,communities:l}){const p=a=>{const i=new Date(a),c=i.getFullYear(),N=String(i.getMonth()+1).padStart(2,"0"),f=String(i.getDate()).padStart(2,"0");return`${c}-${N}-${f}`},{data:r,setData:d,put:u,processing:x,errors:t}=b({name:s.name,date:p(s.date),pic:s.pic,time_start:s.time_start.substring(0,5),communities:s.communities.map(a=>a.id)}),j=a=>{a.preventDefault(),u(route("admin.worship-schedules.update",s.id))},g=(a,i)=>{i?d("communities",[...r.communities,a]):d("communities",r.communities.filter(c=>c!==a))};return e.jsxs(D,{children:[e.jsx(v,{title:`Edit Jadwal - ${s.name}`}),e.jsxs("div",{className:"space-y-6 p-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("nav",{className:"flex items-center text-sm text-muted-foreground",children:[e.jsx(o,{href:route("admin.worship-schedules.index"),className:"hover:text-foreground",children:"Jadwal Ibadah"}),e.jsx("span",{className:"mx-2",children:"/"}),e.jsx(o,{href:route("admin.worship-schedules.show",s.id),className:"hover:text-foreground",children:"Detail"}),e.jsx("span",{className:"mx-2",children:"/"}),e.jsx("span",{className:"text-foreground",children:"Edit"})]}),e.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"Edit Jadwal Ibadah"})]}),e.jsxs(C,{children:[e.jsx(k,{children:e.jsx(y,{children:"Form Edit Jadwal Ibadah"})}),e.jsx(_,{children:e.jsxs("form",{onSubmit:j,className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2",children:[e.jsxs("div",{className:"md:col-span-2",children:[e.jsx(m,{htmlFor:"name",children:"Nama Ibadah *"}),e.jsx(n,{id:"name",type:"text",value:r.name,onChange:a=>d("name",a.target.value),placeholder:"Contoh: Ibadah Minggu Pagi",className:t.name?"border-red-500":"",required:!0}),t.name&&e.jsx("p",{className:"mt-1 text-sm text-red-500",children:t.name})]}),e.jsxs("div",{children:[e.jsx(m,{htmlFor:"date",children:"Tanggal *"}),e.jsx(n,{id:"date",type:"date",value:r.date,onChange:a=>d("date",a.target.value),className:t.date?"border-red-500":"",required:!0}),t.date&&e.jsx("p",{className:"mt-1 text-sm text-red-500",children:t.date})]}),e.jsxs("div",{children:[e.jsx(m,{htmlFor:"time_start",children:"Waktu Mulai *"}),e.jsx(n,{id:"time_start",type:"time",value:r.time_start,onChange:a=>d("time_start",a.target.value),className:t.time_start?"border-red-500":"",required:!0}),t.time_start&&e.jsx("p",{className:"mt-1 text-sm text-red-500",children:t.time_start})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx(m,{htmlFor:"pic",children:"Pemimpin *"}),e.jsx(n,{id:"pic",type:"text",value:r.pic,onChange:a=>d("pic",a.target.value),placeholder:"Contoh: Pastor John, Pendeta Maria",className:t.pic?"border-red-500":"",required:!0}),t.pic&&e.jsx("p",{className:"mt-1 text-sm text-red-500",children:t.pic})]}),l&&l.length>0&&e.jsxs("div",{className:"md:col-span-2",children:[e.jsx(m,{children:"Komunitas Terkait"}),e.jsx("div",{className:"mt-2 grid grid-cols-2 gap-3 md:grid-cols-3",children:l.map(a=>e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(F,{id:`community-${a.id}`,checked:r.communities.includes(a.id),onCheckedChange:i=>g(a.id,i)}),e.jsx(m,{htmlFor:`community-${a.id}`,className:"text-sm",children:a.name})]},a.id))}),e.jsx("p",{className:"mt-1 text-sm text-muted-foreground",children:"Pilih komunitas yang terlibat dalam ibadah ini. Jika tidak dipilih, akan berlaku untuk semua komunitas."}),t.communities&&e.jsx("p",{className:"mt-1 text-sm text-red-500",children:t.communities})]})]}),e.jsxs("div",{className:"flex justify-end space-x-4",children:[e.jsx(o,{href:route("admin.worship-schedules.show",s.id),children:e.jsx(h,{type:"button",variant:"outline",className:"text-black border hover:bg-muted hover:text-black",children:"Batal"})}),e.jsxs(h,{type:"submit",disabled:x,className:"text-white hover:bg-primary/90",children:[e.jsx(E,{className:"mr-2 h-4 w-4"}),x?"Menyimpan...":"Simpan Perubahan"]})]})]})})]})]})]})}export{z as default};
