import{r as c,j as e,H as p,L as l,a as g}from"./app-C_7xbIZb.js";import{B as N}from"./badge-D8AfyJTT.js";import{B as t}from"./createLucideIcon-CFNZbTRT.js";import{C as v,a as b,b as w,c as k}from"./card-Ds1E2YSG.js";import{A as y,U}from"./app-layout-D98RgfYC.js";import{A as D}from"./arrow-left-COZ54bo9.js";import{S as C}from"./square-pen-CPqMtm0I.js";import{U as o}from"./index-xUY6mrCc.js";import{C as _}from"./calendar-CGJtVAd0.js";import{M as x}from"./map-pin-CGFN6hS4.js";/* empty css            */import"./sheet-DJFWz1eK.js";import"./index-D1kmJk2a.js";import"./index-Crda-Usr.js";import"./index-u-failud.js";import"./index-YRaIojVj.js";import"./index-C2pHJJ6b.js";function J({user:s}){const[r,h]=c.useState(s.pdfs||[]),[n,m]=c.useState(null),d=a=>new Date(a).toLocaleDateString("id-ID",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),u=a=>{window.confirm("Apakah Anda yakin ingin menghapus dokumen ini?")&&g.delete(route("admin.users.pdfs.delete",{user:s.id,pdf:a}),{onSuccess:()=>{h(i=>i.filter(j=>j.id!==a)),m("File PDF berhasil dihapus."),setTimeout(()=>m(null),3e3)},onError:()=>{alert("Terjadi kesalahan saat menghapus dokumen.")}})},f=()=>{window.open(route("admin.users.detailpdf",{user:s.id}),"_blank")};return e.jsxs(y,{children:[e.jsx(p,{title:`Detail Umat - ${s.name}`}),e.jsxs("div",{className:"space-y-6 p-6",children:[n&&e.jsx("div",{className:"rounded-md border border-green-200 bg-green-50 px-4 py-3 text-sm text-green-800",children:n}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("nav",{className:"flex items-center text-sm text-muted-foreground",children:[e.jsx(l,{href:route("admin.users"),className:"hover:text-foreground",children:"Umat"}),e.jsx("span",{className:"mx-2",children:"/"}),e.jsx("span",{className:"text-foreground",children:"Detail"})]}),e.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"Detail Umat"})]}),e.jsxs("div",{className:"flex gap-4 items-center",children:[e.jsx(l,{href:"/admin/users",children:e.jsxs(t,{variant:"outline",size:"sm",className:"hidden lg:flex rounded-lg bg-secondary hover:bg-secondary/90",children:[e.jsx(D,{}),"Kembali ke Umat"]})}),e.jsx(l,{href:`/admin/users/${s.id}/edit`,children:e.jsxs(t,{className:"text-white",children:[e.jsx(C,{className:"mr-2 h-4 w-4"}),"Edit Umat"]})}),e.jsxs(t,{variant:"outline",size:"sm",onClick:f,className:"flex items-center gap-2 bg-secondary hover:bg-secondary/90",children:[e.jsx(o,{className:"mr-2 h-4 w-4"}),"Unduh Informasi Umat"]})]})]}),e.jsx("div",{className:"grid gap-6",children:e.jsxs(v,{children:[e.jsx(b,{children:e.jsx(w,{children:"Informasi Umat"})}),e.jsx(k,{className:"p-6",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"flex h-16 w-16 items-center justify-center rounded-full bg-primary/10",children:e.jsx("span",{className:"text-2xl font-bold",children:s.name.charAt(0).toUpperCase()})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold",children:s.name}),e.jsxs("p",{className:"text-muted-foreground",children:["@",s.username]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(U,{className:"h-5 w-5 text-muted-foreground"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Gender"}),e.jsx("p",{className:"font-medium",children:s.gender==="male"?"Laki-laki":"Perempuan"})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(_,{className:"h-5 w-5 text-muted-foreground"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Tanggal Lahir"}),e.jsx("p",{className:"font-medium",children:s.birth_date?d(s.birth_date):"-"})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(x,{className:"h-5 w-5 text-muted-foreground"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Tempat Lahir"}),e.jsx("p",{className:"font-medium",children:s.birth_place||"-"})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(o,{className:"h-5 w-5 text-muted-foreground"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Komunitas Basis"}),e.jsx("p",{className:"font-medium",children:s.community?.name||"-"})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"flex h-5 w-5 items-center justify-center",children:e.jsx("div",{className:`h-3 w-3 rounded-full ${s.status==="active"?"bg-green-500":"bg-red-500"}`})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Status"}),e.jsx(N,{variant:s.status==="active"?"default":"destructive",className:s.status==="active"?"bg-green-100 text-green-800 hover:bg-green-200":"",children:s.status==="active"?"Aktif":"Nonaktif"})]})]})]}),s.address&&e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(x,{className:"mt-0.5 h-5 w-5 text-muted-foreground"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Alamat"}),e.jsx("p",{className:"font-medium",children:s.address})]})]}),r&&r.length>0&&e.jsxs("div",{className:"border-t pt-4 w-full",children:[e.jsx("h3",{className:"font-semibold mb-2",children:"File PDF Umat"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 w-full",children:r.map((a,i)=>e.jsxs("div",{className:"flex items-center gap-2 bg-muted/40 rounded p-3 w-full",children:[e.jsxs("span",{className:"font-bold mr-2",children:[i+1,"."]}),e.jsx("span",{className:"text-sm text-muted-foreground flex-1 truncate",children:a.file_name}),e.jsx("a",{href:a.file_url,download:!0,className:"flex-shrink-0",children:e.jsx(t,{variant:"outline",size:"sm",className:"flex items-center border rounded text-black hover:bg-muted hover:text-black",children:"Unduh"})}),e.jsx(t,{variant:"destructive",size:"sm",onClick:()=>u(a.id),children:"Hapus"})]},a.id))})]}),e.jsx("div",{className:"border-t pt-4",children:e.jsxs("div",{className:"grid grid-cols-1 gap-4 text-sm text-muted-foreground md:grid-cols-2",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Terdaftar:"})," ",d(s.created_at)]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Terakhir diupdate:"})," ",d(s.updated_at)]})]})})]})})]})})]})]})}export{J as default};
