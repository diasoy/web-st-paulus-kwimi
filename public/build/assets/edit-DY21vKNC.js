import{j as e,H as u,u as N,L as o}from"./app-C6gMg_n5.js";import{B as h}from"./createLucideIcon-CCJLh033.js";import{C as y,a as k,b as _,c as C}from"./card-Vci2eeqr.js";import{I as i}from"./input-CuJ7phD5.js";import{L as d}from"./label-C2_ZRJjV.js";import{A as x}from"./app-layout-DEqCZiHy.js";import{S as w}from"./save-ChHfmaBI.js";/* empty css            */import"./index-jlQ9R2_E.js";import"./sheet-C_jGxhCv.js";import"./index-DWDvq47i.js";import"./index-DhbgspBr.js";import"./index-F6TSubN6.js";import"./index-3ETa40gf.js";import"./index-CwTkrfdC.js";function G({user:t,communities:m}){if(console.log("UserEdit called with:",{user:t,communities:m}),!t)return e.jsxs(x,{children:[e.jsx(u,{title:"Edit Pengguna"}),e.jsx("div",{className:"p-6",children:e.jsx("p",{children:"Data pengguna tidak ditemukan."})})]});const p=a=>{if(!a)return"";const l=new Date(a);if(isNaN(l.getTime()))return"";const b=l.getFullYear(),v=String(l.getMonth()+1).padStart(2,"0"),f=String(l.getDate()).padStart(2,"0");return`${b}-${v}-${f}`},{data:r,setData:n,put:g,processing:c,errors:s}=N({name:t.name||"",username:t.username||"",email:t.email||"",phone_number:t.phone_number||"",address:t.address||"",birth_date:p(t.birth_date),gender:t.gender||"male",status:t.status||"active",community_id:t.community_id||null}),j=a=>{a.preventDefault(),console.log("Form submitted with data:",r),g(route("admin.users.update",t.id))};return e.jsxs(x,{children:[e.jsx(u,{title:`Edit Pengguna - ${t.name}`}),e.jsxs("div",{className:"space-y-6 p-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("nav",{className:"flex items-center text-sm text-muted-foreground",children:[e.jsx(o,{href:route("admin.users"),className:"hover:text-foreground",children:"Pengguna"}),e.jsx("span",{className:"mx-2",children:"/"}),e.jsx(o,{href:route("admin.users.show",t.id),className:"hover:text-foreground",children:"Detail"}),e.jsx("span",{className:"mx-2",children:"/"}),e.jsx("span",{className:"text-foreground",children:"Edit"})]}),e.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"Edit Pengguna"})]}),e.jsxs(y,{children:[e.jsx(k,{children:e.jsx(_,{children:"Edit Pengguna"})}),e.jsx(C,{className:"p-6",children:e.jsxs("form",{onSubmit:j,className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(d,{htmlFor:"name",children:"Nama Lengkap *"}),e.jsx(i,{id:"name",type:"text",value:r.name,onChange:a=>n("name",a.target.value),placeholder:"Masukkan nama lengkap",required:!0}),s.name&&e.jsx("p",{className:"text-sm text-red-600",children:s.name})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(d,{htmlFor:"username",children:"Username *"}),e.jsx(i,{id:"username",type:"text",value:r.username,onChange:a=>n("username",a.target.value),placeholder:"Masukkan username",required:!0}),s.username&&e.jsx("p",{className:"text-sm text-red-600",children:s.username})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(d,{htmlFor:"email",children:"Email *"}),e.jsx(i,{id:"email",type:"email",value:r.email,onChange:a=>n("email",a.target.value),placeholder:"Masukkan email",required:!0}),s.email&&e.jsx("p",{className:"text-sm text-red-600",children:s.email})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(d,{htmlFor:"phone_number",children:"Nomor Telepon"}),e.jsx(i,{id:"phone_number",type:"text",value:r.phone_number,onChange:a=>n("phone_number",a.target.value),placeholder:"Masukkan nomor telepon"}),s.phone_number&&e.jsx("p",{className:"text-sm text-red-600",children:s.phone_number})]})," ",e.jsxs("div",{className:"space-y-2",children:[e.jsx(d,{htmlFor:"birth_date",children:"Tanggal Lahir"}),e.jsx(i,{id:"birth_date",type:"date",value:r.birth_date,onChange:a=>n("birth_date",a.target.value)}),s.birth_date&&e.jsx("p",{className:"text-sm text-red-600",children:s.birth_date})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(d,{htmlFor:"gender",children:"Gender *"}),e.jsxs("select",{id:"gender",value:r.gender,onChange:a=>n("gender",a.target.value),className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background",required:!0,children:[e.jsx("option",{value:"male",children:"Laki-laki"}),e.jsx("option",{value:"female",children:"Perempuan"})]}),s.gender&&e.jsx("p",{className:"text-sm text-red-600",children:s.gender})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(d,{htmlFor:"community_id",children:"Komunitas Basis"}),e.jsxs("select",{id:"community_id",value:r.community_id||"",onChange:a=>n("community_id",a.target.value?parseInt(a.target.value):null),className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background",children:[e.jsx("option",{value:"",children:"Tidak ada"}),m&&m.map(a=>e.jsx("option",{value:a.id,children:a.name},a.id))]}),s.community_id&&e.jsx("p",{className:"text-sm text-red-600",children:s.community_id})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(d,{htmlFor:"status",children:"Status *"}),e.jsxs("select",{id:"status",value:r.status,onChange:a=>n("status",a.target.value),className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background",required:!0,children:[e.jsx("option",{value:"active",children:"Aktif"}),e.jsx("option",{value:"inactive",children:"Nonaktif"})]}),s.status&&e.jsx("p",{className:"text-sm text-red-600",children:s.status})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(d,{htmlFor:"address",children:"Alamat"}),e.jsx("textarea",{id:"address",value:r.address,onChange:a=>n("address",a.target.value),placeholder:"Masukkan alamat lengkap",className:"flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:outline-none disabled:cursor-not-allowed disabled:opacity-50",rows:3}),s.address&&e.jsx("p",{className:"text-sm text-red-600",children:s.address})]}),e.jsxs("div",{className:"flex gap-4 pt-4",children:[e.jsxs(h,{type:"submit",disabled:c,className:"text-white hover:opacity-90",children:[e.jsx(w,{className:"mr-2 h-4 w-4"}),c?"Menyimpan...":"Simpan Perubahan"]})," ",e.jsx(o,{href:route("admin.users.show",t.id),children:e.jsx(h,{type:"button",variant:"outline",className:"bg-white text-secondary border-secondary hover:opacity-80",children:"Batal"})})]})]})})]})]})]})}export{G as default};
