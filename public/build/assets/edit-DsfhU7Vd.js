import{r as b,u as j,j as e,H as v,L as n}from"./app-BFkRNHHw.js";import{c as k,B as m}from"./createLucideIcon-BCwFNOnh.js";import{C as y}from"./checkbox-C4dRN6LN.js";import{I as N}from"./input-BD3RhxKa.js";import{L as l}from"./label-DBxlfS-J.js";import{T as c,a as P}from"./triangle-alert-BLFgNgtZ.js";import{A as _}from"./app-layout-Tn5mtse-.js";import{X as S}from"./sheet-mTSZwW3x.js";import{S as C}from"./save-CK5crPZV.js";/* empty css            */import"./index-DSPFqBPc.js";import"./index-BiSY3Dfg.js";import"./index-CzqRtesf.js";import"./index-CbHduGy0.js";import"./index-DDWL48Ka.js";import"./index-OmAK3eqi.js";import"./index-Cmz6jSq-.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E=[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]],I=k("PenLine",E);function K({announcement:r}){const[h,x]=b.useState(""),i=b.useRef(null),{data:o,setData:s,post:u,processing:g,errors:t}=j({_method:"PUT",title:r.title,description:r.description,image:null,is_publish:r.is_publish}),p=a=>{a.preventDefault(),u(route("admin.announcements.update",r.id),{forceFormData:!0,preserveScroll:!0})},f=a=>{const d=a.target.files?.[0]||null;d&&d.size>2*1024*1024?(x("Ukuran gambar maksimal 2MB. Silakan pilih gambar lain."),s("image",null)):(x(""),s("image",d))},w=()=>{s("image",null),i.current&&(i.current.value="")};return e.jsxs(_,{children:[e.jsx(v,{title:`Edit Pengumuman - ${r.title}`}),e.jsx("div",{className:"dashboard-gradient min-h-screen",style:{background:"linear-gradient(135deg, #0f2027, #203a43, #2c5364)"},children:e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsxs("nav",{className:"flex items-center text-sm text-white/80 mb-6",children:[e.jsx(n,{href:route("admin.announcements.index"),className:"hover:text-white transition-colors",children:"Pengumuman"}),e.jsx("span",{className:"mx-2 text-white/60",children:"/"}),e.jsx(n,{href:route("admin.announcements.show",r.id),className:"hover:text-white transition-colors",children:"Detail"}),e.jsx("span",{className:"mx-2 text-white/60",children:"/"}),e.jsx("span",{className:"text-white font-medium",children:"Edit"})]}),e.jsxs("div",{className:"bg-white/95 backdrop-blur-lg rounded-3xl overflow-hidden border border-gray-200/50 shadow-2xl",children:[e.jsx("div",{className:"bg-gradient-to-r from-yellow-500/90 to-orange-500/90 p-8 border-b border-gray-200/50",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"bg-white/20 p-3 rounded-xl",children:e.jsx(I,{className:"h-8 w-8 text-white"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-white mb-1",children:"Edit Pengumuman"}),e.jsx("p",{className:"text-white/90 text-lg",children:"Perbarui informasi pengumuman"})]})]})}),e.jsx("div",{className:"p-8",children:e.jsxs("form",{onSubmit:p,className:"space-y-8",children:[e.jsxs("div",{className:"grid grid-cols-1 gap-8 md:grid-cols-2",children:[e.jsxs("div",{className:"md:col-span-2",children:[e.jsx(l,{htmlFor:"title",className:"text-base font-bold text-gray-900 dark:text-white mb-2 block",children:"Judul Pengumuman *"}),e.jsx(N,{id:"title",type:"text",value:o.title,onChange:a=>s("title",a.target.value),className:`mt-2 bg-white dark:bg-slate-800 backdrop-blur-sm border-2 transition-all duration-300 text-gray-900 dark:text-white placeholder:text-gray-500 dark:placeholder:text-gray-400 ${t.title?"border-red-300 focus:border-red-500 focus:ring-red-200":"border-yellow-200 dark:border-yellow-600 focus:border-orange-500 focus:ring-orange-200 hover:border-yellow-300"} focus:ring-4 focus:ring-offset-2 rounded-xl shadow-sm hover:shadow-md`,required:!0}),t.title&&e.jsxs("p",{className:"mt-2 text-sm text-red-600 flex items-center gap-1",children:[e.jsx(c,{className:"h-4 w-4"}),t.title]})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx(l,{htmlFor:"description",className:"text-base font-bold text-gray-900 dark:text-white mb-2 block",children:"Deskripsi Singkat *"}),e.jsx(P,{id:"description",value:o.description,onChange:a=>s("description",a.target.value),className:`mt-2 bg-white dark:bg-slate-800 backdrop-blur-sm border-2 transition-all duration-300 text-gray-900 dark:text-white placeholder:text-gray-500 dark:placeholder:text-gray-400 ${t.description?"border-red-300 focus:border-red-500 focus:ring-red-200":"border-yellow-200 dark:border-yellow-600 focus:border-orange-500 focus:ring-orange-200 hover:border-yellow-300"} focus:ring-4 focus:ring-offset-2 rounded-xl shadow-sm hover:shadow-md resize-none`,rows:4,required:!0}),t.description&&e.jsxs("p",{className:"mt-2 text-sm text-red-600 flex items-center gap-1",children:[e.jsx(c,{className:"h-4 w-4"}),t.description]})]}),r.image_url&&e.jsxs("div",{className:"md:col-span-2",children:[e.jsx(l,{className:"text-base font-bold text-gray-900 dark:text-white mb-2 block",children:"Gambar Saat Ini"}),e.jsx("div",{className:"mt-3",children:e.jsxs("div",{className:"relative inline-block",children:[e.jsx("img",{src:`/files/${encodeURIComponent(r.image_url)}`,alt:r.title,className:"h-40 w-auto rounded-xl border-2 border-yellow-200 shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/20 to-transparent rounded-xl"})]})})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx(l,{htmlFor:"image",className:"text-base font-bold text-gray-900 dark:text-white mb-2 block",children:"Ganti Gambar (opsional)"}),e.jsxs("div",{className:"mt-3 space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("input",{ref:i,id:"image",type:"file",accept:"image/*",onChange:f,className:`bg-white dark:bg-slate-800 backdrop-blur-sm border-2 transition-all duration-300 text-gray-900 dark:text-white ${t.image?"border-red-300 focus:border-red-500":"border-yellow-200 dark:border-yellow-600 focus:border-orange-500 hover:border-yellow-300"} focus:ring-4 focus:ring-offset-2 focus:ring-orange-200 rounded-xl shadow-sm hover:shadow-md file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-gradient-to-r file:from-yellow-500 file:to-orange-500 file:text-white hover:file:from-yellow-600 hover:file:to-orange-600 file:cursor-pointer`}),h&&e.jsxs("div",{className:"flex items-center gap-1 text-red-600 text-sm",children:[e.jsx(c,{className:"h-4 w-4"}),h]}),o.image&&e.jsxs("div",{className:"flex items-center gap-2 bg-green-50 dark:bg-green-900/20 px-3 py-2 rounded-lg border border-green-200 dark:border-green-700",children:[e.jsx("span",{className:"text-sm text-green-700 dark:text-green-300 font-medium",children:o.image.name}),e.jsx(m,{type:"button",variant:"ghost",size:"sm",onClick:w,className:"h-6 w-6 p-0 text-green-600 hover:text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors",children:e.jsx(S,{className:"h-3 w-3"})})]})]}),e.jsx("p",{className:"text-sm font-medium text-gray-800 dark:text-gray-200 bg-blue-50 dark:bg-blue-900/20 p-3 rounded-lg border border-blue-200 dark:border-blue-700",children:"ðŸ’¡ Pilih gambar baru jika ingin mengganti yang sudah ada. Format: JPG, PNG, WEBP. Ukuran maksimal 2MB."})]})]}),e.jsx("div",{className:"md:col-span-2",children:e.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 dark:from-blue-900/20 dark:to-purple-900/20 p-4 rounded-xl border border-blue-200 dark:border-blue-700",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(y,{id:"is_publish",checked:!!o.is_publish,onCheckedChange:a=>s("is_publish",!!a),className:"border-2 border-blue-300 data-[state=checked]:bg-blue-500 data-[state=checked]:border-blue-500"}),e.jsx(l,{htmlFor:"is_publish",className:"text-base font-bold text-gray-900 dark:text-white cursor-pointer",children:"Publikasikan pengumuman"})]}),e.jsx("p",{className:"mt-2 ml-7 text-sm font-medium text-gray-800 dark:text-gray-200",children:"âœ¨ Jika dicentang, pengumuman akan langsung terlihat oleh jemaat"})]})})]}),e.jsxs("div",{className:"flex justify-end space-x-4 pt-6 border-t border-gray-200 dark:border-gray-700",children:[e.jsx(n,{href:route("admin.announcements.show",r.id),children:e.jsx(m,{type:"button",variant:"outline",className:"bg-white hover:bg-gray-50 text-gray-700 border-gray-300 hover:border-gray-400 hover:text-gray-800 shadow-sm hover:shadow-md transition-all duration-300 transform hover:scale-105",children:"Batal"})}),e.jsxs(m,{type:"submit",disabled:g,className:"bg-gradient-to-r from-yellow-500 to-orange-500 hover:from-yellow-600 hover:to-orange-600 text-white shadow-lg hover:shadow-xl disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-300 transform hover:scale-105",children:[e.jsx(C,{className:"mr-2 h-4 w-4"}),g?"Menyimpan...":"Simpan Perubahan"]})]})]})})]})]})})]})}export{K as default};
