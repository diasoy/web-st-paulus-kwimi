import{r as h,j as e,H as u,L as s}from"./app-DkzbERVO.js";import{C as l,c as i,a as p,b as f}from"./card-BaCsoMhG.js";import{A as g}from"./app-layout-DwLWoKdy.js";import{I as j}from"./image-DQ2Okvzm.js";import{E as y}from"./eye-BL0b90I7.js";import{f as b,i as c}from"./id-D0VV-xtL.js";import{f as v}from"./formatDistanceToNow-T1tYAkfs.js";/* empty css            */import"./createLucideIcon-DBWVl7rG.js";import"./sheet-C5F_08mq.js";import"./index-CqsrO3pv.js";import"./index-CIulx04S.js";import"./index-BmohLaKw.js";import"./index-t1cKyorZ.js";import"./index-DXzTdasX.js";import"./index-CVpUF0yU.js";function B({announcements:a}){const[d,o]=h.useState({}),m=r=>{o(t=>({...t,[r]:!0}))},n=r=>{try{const t=new Date(r);return{relative:v(t,{addSuffix:!0,locale:c}),full:b(t,"dd MMMM yyyy HH:mm",{locale:c}),simple:t.toLocaleDateString("id-ID",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})}}catch{return{relative:"Tanggal tidak valid",full:"Tanggal tidak valid",simple:"Tanggal tidak valid"}}},x=[{title:"Pengumuman Gereja",href:"/umat/announcements"}];return e.jsxs(g,{breadcrumbs:x,children:[e.jsx(u,{title:"Pengumuman Gereja"}),e.jsxs("div",{className:"container mx-auto px-4 py-8 space-y-8",children:[e.jsx("div",{className:"flex justify-between items-center",children:e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Pengumuman Gereja"})}),e.jsxs("div",{className:"space-y-6",children:[a.data.length===0?e.jsx(l,{children:e.jsx(i,{className:"py-8",children:e.jsx("p",{className:"text-center text-gray-500",children:"Belum ada pengumuman yang terdaftar."})})}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:a.data.map(r=>{const t=n(r.created_at);return e.jsxs(l,{className:"group hover:shadow-lg transition-all duration-300 border-secondary/20 bg-white/80 backdrop-blur-sm overflow-hidden rounded-xl p-0 flex flex-col h-full",children:[r.image_url&&!d[r.id]?e.jsx("div",{className:"aspect-video bg-gray-100 relative overflow-hidden",children:e.jsx("img",{src:r.image_url,alt:r.title,className:"absolute inset-0 w-full h-full object-cover rounded-t-xl group-hover:scale-105 transition-transform duration-300",onError:()=>m(r.id),loading:"lazy"})}):e.jsx("div",{className:"aspect-video bg-gray-100 flex items-center justify-center rounded-t-xl",children:e.jsx(j,{className:"h-12 w-12 text-church-primary/50"})}),e.jsx("div",{className:"absolute inset-0 pointer-events-none rounded-t-xl"}),e.jsx(p,{children:e.jsxs("div",{className:"flex flex-col-reverse mb-2",children:[e.jsx("span",{className:"text-xs text-church-text/60 mt-2",title:t.full,children:t.relative}),e.jsx(f,{className:"text-xl text-church-dark group-hover:text-church-primary transition-colors duration-300 line-clamp-2",children:r.title})]})}),e.jsxs(i,{className:"pt-0 flex-1 flex flex-col",children:[e.jsx("p",{className:"text-church-text/80 text-sm mb-4 line-clamp-2",children:r.description}),e.jsx("div",{className:"flex items-center justify-between mt-auto pb-5",children:e.jsxs(s,{href:`/umat/announcements/${r.id}`,className:"inline-flex items-center px-3 py-1 text-xs bg-secondary text-white rounded-full hover:bg-secondary/90 hover:cursor-pointer transition-colors duration-300",children:[e.jsx(y,{className:"h-3 w-3 mr-1"}),"Baca Selengkapnya"]})}),r.content&&r.content.trim()!==""&&e.jsxs("div",{className:"border-t border-church-primary/10 pt-4 mt-4",children:[e.jsx("h4",{className:"text-sm font-semibold text-church-dark mb-2",children:"Detail:"}),e.jsx("div",{className:"text-church-text/80 text-sm whitespace-pre-wrap leading-relaxed line-clamp-3",children:r.content})]})]})]},r.id)})}),a.last_page>1&&e.jsx("div",{className:"flex justify-center items-center space-x-2 mt-8",children:a.links.map((r,t)=>r.url?e.jsx(s,{href:r.url,className:`px-3 py-2 rounded-md border transition-colors duration-300 ${r.active?"bg-church-primary text-white border-church-primary":"bg-white/70 text-church-dark border-church-primary/20 hover:bg-church-primary/10"}`,dangerouslySetInnerHTML:{__html:r.label}},t):e.jsx("span",{className:"px-3 py-2 text-church-text/50 bg-white/50 rounded-md border border-church-primary/10",dangerouslySetInnerHTML:{__html:r.label}},t))})]})]})]})}export{B as default};
