import{r as g,j as e,H as B,a as i,L as m}from"./app-DkzbERVO.js";import{B as N}from"./badge-DiL-dmsG.js";import{B as n}from"./createLucideIcon-DBWVl7rG.js";import{I}from"./input-CDkQpHWx.js";import{T as A,a as L,b,c as o,d as P,e as c}from"./table-hlFHCk4X.js";import{A as H,C as u,U as z}from"./app-layout-DwLWoKdy.js";import{S as E}from"./search-GTw-X5MG.js";import{P as v}from"./plus-BbM5HVOj.js";import{A as p,a as j}from"./arrow-up-BBEpxcAn.js";import{C as J}from"./calendar-DC3pMyMY.js";import{C as U}from"./clock-DY04Fpw2.js";import{E as K}from"./eye-BL0b90I7.js";import{S as R}from"./square-pen-DFQ3TBWY.js";import{T as M}from"./trash-2-XRnCX0ww.js";/* empty css            */import"./sheet-C5F_08mq.js";import"./index-CqsrO3pv.js";import"./index-CIulx04S.js";import"./index-BmohLaKw.js";import"./index-t1cKyorZ.js";import"./index-DXzTdasX.js";import"./index-CVpUF0yU.js";function me({worshipSchedules:d}){const f=new URLSearchParams(typeof window<"u"?window.location.search:""),[t,y]=g.useState(f.get("search")||""),[a,x]=g.useState(f.get("sort")||"date"),[r,h]=g.useState(f.get("direction")||"desc"),S=s=>{confirm("Apakah Anda yakin ingin menghapus jadwal ibadah ini?")&&i.delete(route("admin.worship-schedules.destroy",s))},C=s=>new Date(s).toLocaleDateString("id-ID",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),k=s=>s.substring(0,5);return e.jsxs(H,{children:[e.jsx(B,{title:"Jadwal Ibadah"}),e.jsxs("div",{className:"space-y-6 p-6",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Jadwal Ibadah"}),e.jsx("p",{className:"text-muted-foreground",children:"Kelola jadwal ibadah untuk jemaat ST. Paulus Kwimi"})]})}),e.jsxs("div",{className:"flex items-center justify-between gap-2",children:[e.jsxs("div",{className:"flex min-w-0 flex-1 items-center gap-2",children:[e.jsxs("div",{className:"relative w-full max-w-sm",children:[e.jsx(E,{className:"absolute top-2.5 left-2.5 h-4 w-4 text-muted-foreground"}),e.jsx(I,{value:t,onChange:s=>y(s.target.value),onKeyDown:s=>s.key==="Enter"&&i.get(route("admin.worship-schedules.index"),{search:t,sort:a,direction:r},{preserveState:!0,replace:!0,preserveScroll:!0}),placeholder:"Cari jadwal ibadah...",className:"h-9 pl-8 text-sm"})]}),e.jsx(n,{size:"sm",className:"bg-primary hover:bg-primary/90 text-white",onClick:()=>i.get(route("admin.worship-schedules.index"),{search:t,sort:a,direction:r},{preserveState:!0,replace:!0,preserveScroll:!0}),children:"Cari"}),t&&e.jsx(n,{size:"sm",variant:"outline",onClick:()=>i.get(route("admin.worship-schedules.index"),{sort:a,direction:r},{preserveState:!0,replace:!0,preserveScroll:!0}),children:"Reset"})]}),e.jsx(m,{href:route("admin.worship-schedules.create"),className:"shrink-0",children:e.jsxs(n,{className:"px-2 sm:px-4 text-white bg-primary hover:bg-primary/90",children:[e.jsx(v,{className:"h-4 w-4 sm:mr-2"}),e.jsx("span",{className:"hidden sm:inline",children:"Tambah Jadwal"})]})})]}),d.data.length===0?e.jsxs("div",{className:"py-8 text-center",children:[e.jsx("p",{className:"text-muted-foreground",children:"Belum ada jadwal ibadah"})," ",e.jsx(m,{href:route("admin.worship-schedules.create"),children:e.jsxs(n,{className:"mt-4",children:[e.jsx(v,{className:"mr-2 h-4 w-4"}),"Buat Jadwal Pertama"]})})]}):e.jsx("div",{className:"rounded-md border",children:e.jsxs(A,{children:[e.jsx(L,{children:e.jsxs(b,{className:"bg-muted/60",children:[e.jsx(o,{children:e.jsxs("button",{type:"button",onClick:()=>{const s=a==="name"&&r==="asc"?"desc":"asc";x("name"),h(s),i.get(route("admin.worship-schedules.index"),{search:t,sort:"name",direction:s},{preserveState:!0,replace:!0,preserveScroll:!0})},className:"flex items-center font-semibold hover:text-foreground/90",children:["Nama Ibadah",a!=="name"?e.jsx(u,{className:"ml-1 h-4 w-4 text-muted-foreground"}):r==="asc"?e.jsx(p,{className:"ml-1 h-4 w-4"}):e.jsx(j,{className:"ml-1 h-4 w-4"})]})}),e.jsx(o,{children:e.jsxs("button",{type:"button",onClick:()=>{const s=a==="date"&&r==="asc"?"desc":"asc";x("date"),h(s),i.get(route("admin.worship-schedules.index"),{search:t,sort:"date",direction:s},{preserveState:!0,replace:!0,preserveScroll:!0})},className:"flex items-center font-semibold hover:text-foreground/90",children:["Tanggal",a!=="date"?e.jsx(u,{className:"ml-1 h-4 w-4 text-muted-foreground"}):r==="asc"?e.jsx(p,{className:"ml-1 h-4 w-4"}):e.jsx(j,{className:"ml-1 h-4 w-4"})]})}),e.jsx(o,{children:e.jsxs("button",{type:"button",onClick:()=>{const s=a==="time_start"&&r==="asc"?"desc":"asc";x("time_start"),h(s),i.get(route("admin.worship-schedules.index"),{search:t,sort:"time_start",direction:s},{preserveState:!0,replace:!0,preserveScroll:!0})},className:"flex items-center font-semibold hover:text-foreground/90",children:["Waktu",a!=="time_start"?e.jsx(u,{className:"ml-1 h-4 w-4 text-muted-foreground"}):r==="asc"?e.jsx(p,{className:"ml-1 h-4 w-4"}):e.jsx(j,{className:"ml-1 h-4 w-4"})]})}),e.jsx(o,{children:e.jsxs("button",{type:"button",onClick:()=>{const s=a==="pic"&&r==="asc"?"desc":"asc";x("pic"),h(s),i.get(route("admin.worship-schedules.index"),{search:t,sort:"pic",direction:s},{preserveState:!0,replace:!0,preserveScroll:!0})},className:"flex items-center font-semibold hover:text-foreground/90",children:["Penanggung Jawab",a!=="pic"?e.jsx(u,{className:"ml-1 h-4 w-4 text-muted-foreground"}):r==="asc"?e.jsx(p,{className:"ml-1 h-4 w-4"}):e.jsx(j,{className:"ml-1 h-4 w-4"})]})}),e.jsx(o,{children:"Komunitas"}),e.jsx(o,{className:"text-right",children:"Aksi"})]})}),e.jsx(P,{children:d.data.map(s=>e.jsxs(b,{children:[e.jsx(c,{className:"font-medium",children:s.name}),e.jsx(c,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(J,{className:"h-4 w-4"}),C(s.date)]})}),e.jsx(c,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(U,{className:"h-4 w-4"}),k(s.time_start)]})}),e.jsx(c,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(z,{className:"h-4 w-4"}),s.pic]})}),e.jsx(c,{children:s.communities&&s.communities.length>0?e.jsxs("div",{className:"flex flex-wrap gap-1",children:[s.communities.slice(0,2).map(l=>e.jsx(N,{variant:"secondary",className:"text-xs",children:l.name},l.id)),s.communities.length>2&&e.jsxs(N,{variant:"outline",className:"text-xs",children:["+",s.communities.length-2]})]}):e.jsx("span",{className:"text-muted-foreground",children:"Semua komunitas"})}),e.jsx(c,{className:"text-right",children:e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx(n,{variant:"outline",size:"sm",asChild:!0,className:"bg-secondary hover:bg-secondary/90",children:e.jsx(m,{href:route("admin.worship-schedules.show",s.id),children:e.jsx(K,{className:"h-4 w-4"})})}),e.jsx(n,{variant:"outline",size:"sm",asChild:!0,className:"bg-primary hover:bg-primary/90",children:e.jsx(m,{href:route("admin.worship-schedules.edit",s.id),children:e.jsx(R,{className:"h-4 w-4"})})}),e.jsx(n,{variant:"destructive",size:"sm",onClick:()=>S(s.id),children:e.jsx(M,{className:"h-4 w-4"})})]})})]},s.id))})]})}),d.links&&d.links.length>3&&e.jsx("div",{className:"flex justify-center space-x-2",children:d.links.map((s,l)=>{const w="px-3 py-1 rounded-md font-medium transition-all duration-150 border cursor-pointer",T="bg-secondary text-white border-secondary hover:opacity-80",D="bg-white text-secondary border-secondary hover:opacity-80",_="bg-secondary text-muted-foreground border-secondary opacity-60 cursor-not-allowed";return s.url?e.jsx(m,{href:s.url,className:w+" "+(s.active?T:D),dangerouslySetInnerHTML:{__html:s.label}},l):e.jsx("span",{className:w+" "+_,dangerouslySetInnerHTML:{__html:s.label}},l)})})]})]})}export{me as default};
