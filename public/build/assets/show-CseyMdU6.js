import{r as m,j as e,H as N,L as d,a as u}from"./app-3pXV_ZTR.js";import{B as v}from"./badge-B48a9KK5.js";import{B as a}from"./createLucideIcon-Big9a01N.js";import{A as w,U as b}from"./app-layout-wXaori0w.js";import{A as y}from"./arrow-left-BUxYDzMk.js";import{S as k}from"./square-pen-CkLf0uD8.js";import{U as x}from"./index-B8kjP8L0.js";import{C as U}from"./calendar-BWuCxg-S.js";import{M as h}from"./map-pin-BjUAoRQ7.js";/* empty css            */import"./sheet-DhFIG8hb.js";import"./index-Dw0Vgt02.js";import"./index-C7i9Sxjm.js";import"./index-X02O5FkN.js";import"./index-CFZrxKvB.js";import"./index-cQAwu3rO.js";function M({user:s}){const[i,o]=m.useState(s.pdfs||[]),[n,c]=m.useState(null),r=t=>new Date(t).toLocaleDateString("id-ID",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),g=t=>{window.confirm("Apakah Anda yakin ingin menghapus dokumen ini?")&&u.delete(route("admin.users.pdfs.delete",{user:s.id,pdf:t}),{onSuccess:()=>{o(l=>l.filter(f=>f.id!==t)),c("File PDF berhasil dihapus."),setTimeout(()=>c(null),3e3)},onError:()=>{alert("Terjadi kesalahan saat menghapus dokumen.")}})},j=()=>{window.open(route("admin.users.detailpdf",{user:s.id}),"_blank")},p=t=>{window.location.href=route("admin.users.pdfs.download",{user:s.id,pdf:t})};return e.jsxs(w,{children:[e.jsx(N,{title:`Detail Umat - ${s.name}`}),e.jsxs("div",{className:"space-y-6 p-6 min-h-screen",children:[n&&e.jsx("div",{className:"rounded-md border border-green-200 bg-green-50 px-4 py-3 text-sm text-green-800",children:n}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("nav",{className:"flex items-center text-sm text-white",children:[e.jsx(d,{href:route("admin.users"),className:"hover:text-gray-300 transition-colors",children:"Umat"}),e.jsx("span",{className:"mx-2 text-gray-300",children:"/"}),e.jsx("span",{className:"text-white font-medium",children:"Detail"})]}),e.jsx("h1",{className:"text-2xl font-bold tracking-tight text-white",children:"Detail Umat"})]}),e.jsxs("div",{className:"flex gap-4 items-center",children:[e.jsx(d,{href:"/admin/users",children:e.jsxs(a,{variant:"outline",size:"sm",className:"hidden lg:flex rounded-lg bg-white text-gray-700 border-gray-300 hover:bg-gray-50",children:[e.jsx(y,{className:"mr-2 h-4 w-4"}),"Kembali ke Umat"]})}),e.jsx(d,{href:`/admin/users/${s.id}/edit`,children:e.jsxs(a,{className:"bg-green-600 text-white hover:bg-green-700",children:[e.jsx(k,{className:"mr-2 h-4 w-4"}),"Edit Umat"]})}),e.jsxs(a,{variant:"outline",size:"sm",onClick:j,className:"flex items-center gap-2 bg-secondary hover:bg-secondary/90",children:[e.jsx(x,{className:"mr-2 h-4 w-4"}),"Unduh Informasi Umat"]})]})]}),e.jsx("div",{className:"grid gap-6",children:e.jsxs("div",{className:"space-y-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-white",children:"Informasi Umat"}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"flex h-16 w-16 items-center justify-center rounded-full bg-gray-700",children:e.jsx("span",{className:"text-2xl font-bold text-white",children:s.name.charAt(0).toUpperCase()})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-white",children:s.name}),e.jsxs("p",{className:"text-gray-300",children:["@",s.username]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(b,{className:"h-5 w-5 text-white"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-300",children:"Gender"}),e.jsx("p",{className:"font-medium text-white",children:s.gender==="male"?"Laki-laki":"Perempuan"})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(U,{className:"h-5 w-5 text-white"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-300",children:"Tanggal Lahir"}),e.jsx("p",{className:"font-medium text-white",children:s.birth_date?r(s.birth_date):"-"})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(h,{className:"h-5 w-5 text-white"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-300",children:"Tempat Lahir"}),e.jsx("p",{className:"font-medium text-white",children:s.birth_place||"-"})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(x,{className:"h-5 w-5 text-white"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-300",children:"Komunitas Basis"}),e.jsx("p",{className:"font-medium text-white",children:s.community?.name||"-"})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"flex h-5 w-5 items-center justify-center",children:e.jsx("div",{className:`h-3 w-3 rounded-full ${s.status==="active"?"bg-green-500":"bg-red-500"}`})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-300",children:"Status"}),e.jsx(v,{variant:s.status==="active"?"default":"destructive",className:s.status==="active"?"bg-green-100 text-green-800 hover:bg-green-200":"",children:s.status==="active"?"Aktif":"Nonaktif"})]})]})]}),s.address&&e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(h,{className:"mt-0.5 h-5 w-5 text-white"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-300",children:"Alamat"}),e.jsx("p",{className:"font-medium text-white",children:s.address})]})]}),i&&i.length>0&&e.jsxs("div",{className:"border-t border-gray-600 pt-4 w-full",children:[e.jsx("h3",{className:"font-semibold mb-2 text-white",children:"File PDF Umat"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 w-full",children:i.map((t,l)=>e.jsxs("div",{className:"flex items-center gap-2 bg-gray-700 rounded p-3 w-full",children:[e.jsxs("span",{className:"font-bold mr-2 text-white",children:[l+1,"."]}),e.jsx("span",{className:"text-sm text-gray-300 flex-1 truncate",children:t.file_name}),e.jsx(a,{variant:"outline",size:"sm",className:"flex items-center border rounded bg-white text-gray-700 hover:bg-gray-50 flex-shrink-0",onClick:()=>p(t.id),children:"Unduh"}),e.jsx(a,{variant:"destructive",size:"sm",onClick:()=>g(t.id),children:"Hapus"})]},t.id))})]}),e.jsx("div",{className:"border-t border-gray-600 pt-4",children:e.jsxs("div",{className:"grid grid-cols-1 gap-4 text-sm text-gray-300 md:grid-cols-2",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-white",children:"Terdaftar:"})," ",r(s.created_at)]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-white",children:"Terakhir diupdate:"})," ",r(s.updated_at)]})]})})]})]})})]})]})}export{M as default};
