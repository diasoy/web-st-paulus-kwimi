import{r as c,j as e,H as I,L as p,a as E}from"./app-DkzbERVO.js";import{C as D,a as C,b as M,c as S}from"./card-BaCsoMhG.js";import{B as _}from"./badge-DiL-dmsG.js";import{A as T}from"./app-layout-DwLWoKdy.js";import{C as m}from"./calendar-DC3pMyMY.js";import{I as H}from"./image-DQ2Okvzm.js";import{C as A}from"./clock-DY04Fpw2.js";import{M as L}from"./map-pin-CIvGhafX.js";import{E as K}from"./eye-BL0b90I7.js";import{c as W,f as B}from"./formatDistanceToNow-T1tYAkfs.js";import{n as F,s as g,c as $,f as d,i as o}from"./id-D0VV-xtL.js";import{i as z,a as P,b as q}from"./isTomorrow-BjD7Moel.js";/* empty css            */import"./createLucideIcon-DBWVl7rG.js";import"./sheet-C5F_08mq.js";import"./index-CqsrO3pv.js";import"./index-CIulx04S.js";import"./index-BmohLaKw.js";import"./index-t1cKyorZ.js";import"./index-DXzTdasX.js";import"./index-CVpUF0yU.js";function G(r,n,l){const[s,i]=F(l?.in,r,n);return+g(s,l)==+g(i,l)}function O(r,n){return G($(r,r),W(r),n)}function ue({activities:r}){const[n,l]=c.useState({}),[s,i]=c.useState("default"),[x,f]=c.useState(""),[u,j]=c.useState(""),b=()=>{const a={filter:s};s==="custom"&&(a.start_date=x,a.end_date=u),E.get("/umat/activities",a,{preserveScroll:!0})},N=a=>{l(t=>({...t,[a]:!0}))},y=a=>{try{const t=new Date(a);return{full:d(t,"EEEE, dd MMMM yyyy",{locale:o}),short:d(t,"dd MMM yyyy",{locale:o}),dayName:d(t,"EEEE",{locale:o}),relative:B(t,{addSuffix:!0,locale:o})}}catch{return{full:"Tanggal tidak valid",short:"Invalid",dayName:"Invalid",relative:"Invalid"}}},v=a=>{try{if(!a)return"Waktu belum ditentukan";const t=new Date(`2000-01-01 ${a}`);return d(t,"HH:mm",{locale:o})+" WITA"}catch{return"Waktu tidak valid"}},w=a=>{try{const t=new Date(a);return z(t)?{text:"Hari Ini",color:"bg-red-500 text-white"}:P(t)?{text:"Besok",color:"bg-orange-500 text-white"}:O(t)?{text:"Minggu Ini",color:"bg-blue-500 text-white"}:q(t)?{text:"Sudah Lewat",color:"bg-gray-400 text-white"}:{text:"Mendatang",color:"bg-secondary text-white"}}catch{return{text:"Invalid",color:"bg-gray-400 text-white"}}};return e.jsxs(T,{children:[e.jsx(I,{title:"Agenda Kegiatan"}),e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-church-cream via-white to-church-light",children:e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsx("div",{className:"mb-8",children:e.jsx("div",{className:"flex items-center justify-between mb-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"bg-secondary/10 p-3 rounded-full mr-4",children:e.jsx(m,{className:"h-8 w-8 text-secondary"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-4xl font-bold text-church-dark",children:"Agenda Kegiatan"}),e.jsx("p",{className:"text-lg text-church-text/80",children:"Kegiatan dan acara Gereja St. Paulus Kwimi"})]})]})})}),e.jsxs("div",{className:"flex flex-wrap items-center gap-4 mb-8",children:[e.jsxs("select",{value:s,onChange:a=>i(a.target.value),className:"border rounded-lg px-3 py-2",children:[e.jsx("option",{value:"default",children:"Semua Mendatang"}),e.jsx("option",{value:"week",children:"Seminggu ke Depan"}),e.jsx("option",{value:"month",children:"Sebulan ke Depan"}),e.jsx("option",{value:"custom",children:"Custom"})]}),s==="custom"&&e.jsxs(e.Fragment,{children:[e.jsx("input",{type:"date",value:x,onChange:a=>f(a.target.value),className:"border rounded-lg px-3 py-2"}),e.jsx("input",{type:"date",value:u,onChange:a=>j(a.target.value),className:"border rounded-lg px-3 py-2"})]}),e.jsx("button",{onClick:b,className:"bg-secondary text-white px-4 py-2 rounded-lg hover:cursor-pointer",children:"Terapkan"})]}),r.data.length>0?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8",children:r.data.map(a=>{const t=y(a.date),k=v(a.time_start),h=w(a.date);return e.jsxs(D,{className:"group hover:shadow-lg transition-all duration-300 border-secondary/20 bg-white/80 backdrop-blur-sm overflow-hidden rounded-xl p-0",children:[e.jsxs("div",{className:"relative",children:[a.image_url&&!n[a.id]?e.jsx("div",{className:"aspect-video bg-gray-100 relative overflow-hidden",children:e.jsx("img",{src:a.image_url,alt:a.name,className:"absolute inset-0 w-full h-full object-cover rounded-t-xl group-hover:scale-105 transition-transform duration-300",onError:()=>N(a.id),loading:"lazy"})}):e.jsx("div",{className:"aspect-video bg-gray-100 flex items-center justify-center rounded-t-xl",children:e.jsx(H,{className:"h-12 w-12 text-secondary/50"})}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/20 to-transparent pointer-events-none rounded-t-xl"}),e.jsx("div",{className:"absolute top-3 right-3 z-10",children:e.jsx(_,{className:`${h.color} border-0 shadow-lg`,children:h.text})})]}),e.jsxs(C,{className:"pb-3",children:[e.jsx(M,{className:"text-xl text-church-dark group-hover:text-secondary transition-colors duration-300 line-clamp-2",children:a.name}),e.jsxs("div",{className:"space-y-2 text-sm text-church-text/80",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(m,{className:"h-4 w-4 mr-2 text-secondary"}),e.jsx("span",{title:t.full,children:t.short})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(A,{className:"h-4 w-4 mr-2 text-church-secondary"}),e.jsx("span",{children:k})]}),a.location&&e.jsxs("div",{className:"flex items-center",children:[e.jsx(L,{className:"h-4 w-4 mr-2 text-church-accent"}),e.jsx("span",{className:"truncate",children:a.location})]})]})]}),e.jsx(S,{className:"pt-0 pb-5",children:e.jsxs(p,{href:`/umat/activities/${a.id}`,className:"inline-flex items-center px-4 py-2 text-sm bg-secondary text-white rounded-lg hover:bg-secondary/90 transition-colors duration-300",children:[e.jsx(K,{className:"h-4 w-4 mr-2"}),"Lihat Detail"]})})]},a.id)})}):e.jsxs("div",{className:"text-center py-16",children:[e.jsx("div",{className:"bg-secondary/10 w-24 h-24 rounded-full flex items-center justify-center mx-auto mb-6",children:e.jsx(m,{className:"h-12 w-12 text-secondary/50"})}),e.jsx("h3",{className:"text-xl font-semibold text-church-dark mb-2",children:"Belum Ada Kegiatan"}),e.jsx("p",{className:"text-church-text/70 max-w-md mx-auto",children:"Kegiatan atau acara gereja akan ditampilkan di sini ketika sudah dijadwalkan."})]}),r.last_page>1&&e.jsx("div",{className:"flex justify-center items-center space-x-2",children:r.links.map((a,t)=>a.url?e.jsx(p,{href:a.url,className:`px-3 py-2 rounded-md border transition-colors duration-300 ${a.active?"bg-secondary text-white border-secondary":"bg-white/70 text-church-dark border-secondary/20 hover:bg-secondary/10"}`,dangerouslySetInnerHTML:{__html:a.label}},t):e.jsx("span",{className:"px-3 py-2 text-church-text/50 bg-white/50 rounded-md border border-secondary/10",dangerouslySetInnerHTML:{__html:a.label}},t))})]})})]})}export{ue as default};
