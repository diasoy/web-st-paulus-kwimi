import{u as y,r as h,j as e,H as k,L as u}from"./app-CbBYUuCg.js";import{B as o}from"./createLucideIcon-Bd3SNI62.js";import{C,a as w,b as S,c as _}from"./card-Ca4XWJ83.js";import{I as m}from"./input-DZTkCMb5.js";import{L as n}from"./label-DA6jNFgg.js";import{A as K}from"./app-layout-CwT4ef-U.js";import{U as F}from"./upload-H5w0UMPd.js";import{X as A}from"./sheet-QVMg6V7g.js";import{S as L}from"./save-Brh1f1CM.js";/* empty css            */import"./index-CLqdkHuK.js";import"./index-1C-fG81f.js";import"./index-CPofRVIu.js";import"./index-jIoMpBw9.js";import"./index-CzW-oOjg.js";import"./index-xfAVIELO.js";function J(){const{data:r,setData:s,post:g,processing:x,errors:a}=y({name:"",description:"",date:"",time_start:"",location:"",image:null}),[p,d]=h.useState(""),l=h.useRef(null),c=t=>{if(!t)return"";if(/^\d{2}:\d{2}/.test(t))return t.substring(0,5);try{const i=new Date(`2000-01-01T${t}`),v=String(i.getHours()).padStart(2,"0"),N=String(i.getMinutes()).padStart(2,"0");return`${v}:${N}`}catch{return""}},j=t=>{t.preventDefault(),s("time_start",c(r.time_start)),g(route("admin.activities.store"),{forceFormData:!0,preserveScroll:!0})},f=t=>{const i=t.target.files?.[0]||null;i&&i.size>2*1024*1024?(d("Ukuran gambar maksimal 2MB. Silakan pilih gambar lain."),s("image",null)):(d(""),s("image",i))},b=()=>{s("image",null),d(""),l.current&&(l.current.value="")};return e.jsxs(K,{children:[e.jsx(k,{title:"Tambah Agenda Kegiatan"}),e.jsxs("div",{className:"space-y-6 p-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("nav",{className:"flex items-center text-sm text-muted-foreground",children:[e.jsx(u,{href:route("admin.activities.index"),className:"hover:text-foreground",children:"Agenda Kegiatan"}),e.jsx("span",{className:"mx-2",children:"/"}),e.jsx("span",{className:"text-foreground",children:"Tambah Baru"})]}),e.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"Tambah Agenda Kegiatan"})]}),e.jsxs(C,{children:[e.jsx(w,{children:e.jsx(S,{children:"Form Agenda Kegiatan"})}),e.jsx(_,{className:"p-6",children:e.jsxs("form",{onSubmit:j,className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2",children:[" ",e.jsxs("div",{className:"md:col-span-2",children:[e.jsx(n,{htmlFor:"name",children:"Nama Kegiatan *"}),e.jsx(m,{id:"name",type:"text",value:r.name,onChange:t=>s("name",t.target.value),placeholder:"Masukkan nama kegiatan",className:a.name?"border-red-500":"",required:!0}),a.name&&e.jsx("p",{className:"mt-1 text-sm text-red-500",children:a.name})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx(n,{htmlFor:"description",children:"Deskripsi Kegiatan *"})," ",e.jsx("textarea",{id:"description",value:r.description,onChange:t=>s("description",t.target.value),placeholder:"Deskripsi detail tentang kegiatan",className:`flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:outline-none disabled:cursor-not-allowed disabled:opacity-50 ${a.description?"border-red-500":""}`,rows:4}),a.description&&e.jsx("p",{className:"mt-1 text-sm text-red-500",children:a.description})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"date",children:"Tanggal Kegiatan *"}),e.jsx(m,{id:"date",type:"date",value:r.date,onChange:t=>s("date",t.target.value),className:a.date?"border-red-500":"",required:!0}),a.date&&e.jsx("p",{className:"mt-1 text-sm text-red-500",children:a.date})]})," ",e.jsxs("div",{children:[e.jsx(n,{htmlFor:"time_start",children:"Waktu Mulai"}),e.jsx(m,{id:"time_start",type:"time",value:c(r.time_start),onChange:t=>s("time_start",c(t.target.value)),placeholder:"Contoh: 08:00",className:a.time_start?"border-red-500":""}),a.time_start&&e.jsx("p",{className:"mt-1 text-sm text-red-500",children:a.time_start})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx(n,{htmlFor:"location",children:"Lokasi Kegiatan"}),e.jsx(m,{id:"location",type:"text",value:r.location,onChange:t=>s("location",t.target.value),placeholder:"Contoh: Gereja ST. Paulus Kwimi",className:a.location?"border-red-500":""}),a.location&&e.jsx("p",{className:"mt-1 text-sm text-red-500",children:a.location})," "]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx(n,{children:"Gambar (opsional)"}),e.jsxs("div",{className:"mt-2 space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("input",{ref:l,type:"file",accept:"image/*",onChange:f,className:"hidden",id:"activity-image-upload"}),e.jsxs(o,{type:"button",variant:"outline",size:"sm",onClick:()=>l.current?.click(),className:`${a.image?"border-red-500":""}
                                                hover:cursor-pointer hover:bg-white text-black hover:text-black`,children:[e.jsx(F,{className:"mr-2 h-4 w-4"}),"Pilih Gambar"]}),p&&e.jsx("div",{style:{color:"red",fontSize:"0.875rem",marginLeft:8},children:p}),r.image&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:r.image.name}),e.jsx(o,{type:"button",variant:"ghost",size:"sm",onClick:b,className:"h-6 w-6 p-0",children:e.jsx(A,{className:"h-3 w-3"})})]})]}),a.image&&e.jsx("p",{className:"text-sm text-red-500",children:a.image}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Unggah gambar (jpg, png, webp)."})]})]})]}),e.jsxs("div",{className:"flex justify-end space-x-4",children:[e.jsx(u,{href:"/admin/activities",children:e.jsx(o,{type:"button",variant:"outline",className:"bg-white border hover:bg-white hover:cursor-pointer text-black hover:text-black",children:"Batal"})}),e.jsxs(o,{type:"submit",className:"bg-primary text-white hover:bg-primary/80",disabled:x,children:[e.jsx(L,{className:"mr-2 h-4 w-4"}),x?"Menyimpan...":"Simpan Kegiatan"]})]})]})})]})]})]})}export{J as default};
