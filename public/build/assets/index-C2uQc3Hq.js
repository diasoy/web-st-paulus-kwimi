import{b as L,r as g,j as e,H as A,a as l,L as u}from"./app-DJE52jzI.js";import{B as H}from"./badge-CLZHchLf.js";import{B as a}from"./createLucideIcon-CJtlI8RZ.js";import{I as $}from"./input-C4IeXpOg.js";import{T as E,a as R,b as v,c as o,d as K,e as i}from"./table-46ZUwI_Q.js";import{A as M,C as z}from"./app-layout-DMnndpda.js";import{S as j}from"./search-CvQ0Sy6W.js";import{R as F}from"./rotate-ccw-NPmO9hz6.js";import{P as S}from"./plus-BZ-CoolM.js";import{F as N}from"./file-text-CP5QwqNE.js";import{I as U}from"./image-BBceftoC.js";import{E as q}from"./eye-CJ2SNDCj.js";import{S as G}from"./square-pen-CrvVfcnN.js";import{T as J}from"./trash-2-DIUKuJpg.js";import{A as O,a as Q}from"./arrow-up-Byx0Hl-c.js";/* empty css            */import"./sheet-j-LzFc3K.js";import"./index-DukwErBs.js";import"./index-ZmknLHK-.js";import"./index-Cp-aNa-p.js";import"./index-AZp5F7oU.js";import"./index-DmKR0Y5O.js";import"./index-Bj2x4v8V.js";const V={"pagination.next":"Berikutnya","pagination.previous":"Sebelumnya","pagination.first":"Pertama","pagination.last":"Terakhir"},W=s=>V[s]||s;function Ne({announcements:s}){const{props:x}=L(),[k,y]=g.useState(null),p=new URLSearchParams(typeof window<"u"?window.location.search:""),[d,C]=g.useState(p.get("search")||""),[n,T]=g.useState(p.get("sort")||"created_at"),[c,D]=g.useState(p.get("direction")||"desc"),b=r=>{const t=r===n&&c==="asc"?"desc":"asc";T(r),D(t),l.get(route("admin.announcements.index"),{search:d,sort:r,direction:t},{preserveState:!0,replace:!0,preserveScroll:!0})},f=({field:r})=>r!==n?e.jsx(z,{className:"ml-1 h-4 w-4 "}):c==="asc"?e.jsx(O,{className:"ml-1 h-4 w-4"}):e.jsx(Q,{className:"ml-1 h-4 w-4"}),_=(r,t)=>{confirm(`Hapus pengumuman:

"${t}"?`)&&(y(r),l.delete(route("admin.announcements.destroy",r),{preserveScroll:!0,onFinish:()=>y(null)}))},P=r=>new Date(r).toLocaleDateString("id-ID",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"});return e.jsxs(M,{children:[e.jsx(A,{title:"Kelola Pengumuman"}),e.jsx("div",{className:"dashboard-gradient min-h-screen",style:{background:"linear-gradient(135deg, #0f2027, #203a43, #2c5364)"},children:e.jsxs("div",{className:"mx-auto max-w-7xl px-6 py-8 space-y-8",children:[e.jsx("div",{className:"relative z-10 space-y-4",children:e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"relative inline-block",children:[e.jsx("h1",{className:"text-5xl font-bold tracking-tight mb-4 text-white drop-shadow-lg",children:"Kelola Pengumuman"}),e.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-orange-600 to-red-600 rounded-lg blur opacity-25"})]}),e.jsx("p",{className:"text-white/95 text-xl font-medium drop-shadow-md",children:"Kelola semua pengumuman untuk jemaat ST. Paulus Kwimi"})]})}),e.jsx("div",{className:"absolute -right-16 -top-16 h-32 w-32 rounded-full bg-white/10 blur-2xl"}),e.jsx("div",{className:"absolute -left-8 -bottom-8 h-24 w-24 rounded-full bg-white/5 blur-xl"}),x.flash?.success&&e.jsx("div",{className:"bg-green-50 border border-green-200 text-green-800 px-6 py-4 rounded-xl shadow-md",children:e.jsx("p",{className:"font-medium",children:x.flash.success})}),x.flash?.error&&e.jsx("div",{className:"bg-red-50 border border-red-200 text-red-800 px-6 py-4 rounded-xl shadow-md",children:e.jsx("p",{className:"font-medium",children:x.flash.error})}),e.jsxs("div",{className:"bg-white/95 backdrop-blur-lg rounded-2xl shadow-2xl border border-gray-200/50 overflow-hidden",children:[e.jsx("div",{className:"bg-gradient-to-r from-orange-600 via-red-600 to-pink-700 text-white p-6",children:e.jsxs("h2",{className:"text-2xl font-bold flex items-center gap-3",children:[e.jsx("div",{className:"rounded-full bg-white/20 p-2",children:e.jsx(j,{className:"h-5 w-5 text-white"})}),"Filter & Pencarian"]})}),e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"flex flex-col lg:flex-row items-center gap-4",children:[e.jsxs("div",{className:"relative flex-1 w-full",children:[e.jsx(j,{className:"absolute top-3 left-3 h-5 w-5 text-gray-400"}),e.jsx($,{type:"text",placeholder:"Cari judul atau deskripsi pengumuman...",className:"h-12 pl-11 text-lg border-2 border-gray-200 focus:border-orange-500 focus:ring-orange-500 rounded-xl bg-white text-gray-900 placeholder-gray-500",value:d,onChange:r=>C(r.target.value),onKeyDown:r=>r.key==="Enter"&&l.get(route("admin.announcements.index"),{search:d,sort:n,direction:c},{preserveState:!0,replace:!0,preserveScroll:!0})})]}),e.jsxs("div",{className:"flex flex-wrap gap-3",children:[e.jsxs(a,{onClick:()=>l.get(route("admin.announcements.index"),{search:d,sort:n,direction:c},{preserveState:!0,replace:!0,preserveScroll:!0}),className:"h-12 px-4 xl:px-6 text-sm xl:text-lg font-semibold bg-gradient-to-r from-orange-600 to-red-600 hover:from-orange-700 hover:to-red-700 text-white rounded-xl shadow-lg hover:shadow-xl transition-all duration-200",children:[e.jsx(j,{className:"h-5 w-5 mr-2"}),"Cari"]}),d&&e.jsxs(a,{onClick:()=>l.get(route("admin.announcements.index"),{sort:n,direction:c},{preserveState:!0,replace:!0,preserveScroll:!0}),className:"h-12 px-4 xl:px-6 text-sm xl:text-lg font-semibold bg-gradient-to-r from-gray-500 to-gray-600 hover:from-gray-600 hover:to-gray-700 text-white rounded-xl shadow-lg hover:shadow-xl transition-all duration-200",children:[e.jsx(F,{className:"h-5 w-5 mr-2"}),"Reset"]}),e.jsx(a,{asChild:!0,className:"h-12 px-4 xl:px-6 text-sm xl:text-lg font-semibold bg-gradient-to-r from-emerald-600 to-teal-600 hover:from-emerald-700 hover:to-teal-700 text-white rounded-xl shadow-lg hover:shadow-xl transition-all duration-200",children:e.jsxs(u,{href:route("admin.announcements.create"),children:[e.jsx(S,{className:"h-5 w-5 mr-2"}),e.jsx("span",{className:"hidden sm:inline",children:"Tambah Pengumuman"}),e.jsx("span",{className:"sm:hidden",children:"Tambah"})]})})]})]})})]}),e.jsxs("div",{className:"bg-white/95 backdrop-blur-lg rounded-2xl shadow-2xl border border-gray-200/50 overflow-hidden",children:[e.jsx("div",{className:"bg-gradient-to-r from-purple-600 via-violet-600 to-indigo-700 text-white p-6",children:e.jsxs("h2",{className:"text-2xl font-bold flex items-center gap-3",children:[e.jsx("div",{className:"rounded-full bg-white/20 p-2",children:e.jsx(N,{className:"h-5 w-5 text-white"})}),"Daftar Pengumuman (",s.data.length," pengumuman)"]})}),e.jsx("div",{className:"overflow-hidden",children:s.data.length>0?e.jsxs(E,{children:[e.jsx(R,{children:e.jsxs(v,{className:"bg-gray-50 border-b-2 border-gray-200",children:[e.jsx(o,{className:"text-gray-900 font-bold text-sm",children:"Gambar"}),e.jsx(o,{className:"text-gray-900 font-bold text-sm",children:e.jsxs("button",{type:"button",onClick:()=>b("title"),className:"flex items-center font-bold hover:text-orange-600 transition-colors",children:["Judul",e.jsx(f,{field:"title"})]})}),e.jsx(o,{className:"text-gray-900 font-bold text-sm",children:"Deskripsi"}),e.jsx(o,{className:"text-gray-900 font-bold text-sm",children:e.jsxs("button",{type:"button",onClick:()=>b("is_publish"),className:"flex items-center font-bold hover:text-green-600 transition-colors",children:["Status",e.jsx(f,{field:"is_publish"})]})}),e.jsx(o,{className:"text-gray-900 font-bold text-sm",children:e.jsxs("button",{type:"button",onClick:()=>b("created_at"),className:"flex items-center font-bold hover:text-purple-600 transition-colors",children:["Tanggal Dibuat",e.jsx(f,{field:"created_at"})]})}),e.jsx(o,{className:"text-right text-gray-900 font-bold text-sm",children:"Aksi"})]})}),e.jsx(K,{children:s.data.map((r,t)=>e.jsxs(v,{className:`${t%2===0?"bg-white":"bg-gray-50/50"} hover:bg-orange-50/50 transition-colors duration-200`,children:[e.jsx(i,{className:"py-4",children:e.jsxs("div",{className:"flex items-center justify-center",children:[r.image_url?e.jsx("img",{src:r.image_url,alt:r.title,className:"h-12 w-16 rounded-lg object-cover shadow-md border-2 border-gray-200",onError:m=>{m.currentTarget.style.display="none";const h=m.currentTarget.nextSibling||null;h&&(h.style.display="flex")}}):null,e.jsx("div",{className:"flex h-12 w-16 items-center justify-center rounded-lg bg-gradient-to-br from-gray-100 to-gray-200 border-2 border-gray-300",style:{display:r.image_url?"none":"flex"},children:e.jsx(U,{className:"h-5 w-5 text-gray-400"})})]})}),e.jsx(i,{className:"font-medium py-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"rounded-full bg-orange-100 p-2",children:e.jsx(N,{className:"h-4 w-4 text-orange-600"})}),e.jsx("span",{className:"font-semibold text-gray-900",children:r.title})]})}),e.jsx(i,{className:"max-w-md py-4",children:e.jsx("div",{className:"text-gray-700 truncate",children:r.description})}),e.jsx(i,{className:"py-4",children:e.jsx(H,{className:`px-3 py-1 rounded-full text-sm font-medium ${r.is_publish?"bg-green-100 text-green-800 border border-green-200":"bg-yellow-100 text-yellow-800 border border-yellow-200"}`,children:r.is_publish?"Dipublish":"Draft"})}),e.jsx(i,{className:"text-gray-700 py-4",children:e.jsx("span",{className:"px-2 py-1 bg-purple-100 text-purple-800 rounded-lg text-sm font-medium",children:P(r.created_at)})}),e.jsx(i,{className:"text-right py-4",children:e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx(a,{variant:"outline",size:"sm",asChild:!0,className:"bg-blue-50 border-blue-200 text-blue-700 hover:bg-blue-100",children:e.jsx(u,{href:route("admin.announcements.show",r.id),children:e.jsx(q,{className:"h-4 w-4"})})}),e.jsx(a,{variant:"outline",size:"sm",asChild:!0,className:"bg-emerald-50 border-emerald-200 text-emerald-700 hover:bg-emerald-100",children:e.jsx(u,{href:route("admin.announcements.edit",r.id),children:e.jsx(G,{className:"h-4 w-4"})})}),e.jsx(a,{variant:"outline",size:"sm",onClick:()=>_(r.id,r.title),disabled:k===r.id,className:"bg-red-50 border-red-200 text-red-700 hover:bg-red-100",children:e.jsx(J,{className:"h-4 w-4"})})]})})]},r.id))})]}):e.jsxs("div",{className:"py-16 text-center",children:[e.jsx("div",{className:"rounded-full bg-gray-100 p-6 w-24 h-24 mx-auto mb-6",children:e.jsx(N,{className:"h-12 w-12 text-gray-400"})}),e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"Belum ada pengumuman"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Mulai dengan membuat pengumuman pertama untuk jemaat"}),e.jsx(a,{asChild:!0,className:"bg-gradient-to-r from-orange-600 to-red-600 hover:from-orange-700 hover:to-red-700 text-white",children:e.jsxs(u,{href:route("admin.announcements.create"),children:[e.jsx(S,{className:"h-4 w-4 mr-2"}),"Buat Pengumuman Pertama"]})})]})})]}),s.data.length>0&&s.links&&s.links.length>3&&e.jsx("div",{className:"bg-white/95 backdrop-blur-lg rounded-2xl shadow-2xl border border-gray-200/50 p-6",children:e.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-4",children:[e.jsxs("div",{className:"text-lg font-medium text-gray-700",children:["Menampilkan ",e.jsx("span",{className:"font-bold text-orange-600",children:s.data.length})," pengumuman"]}),e.jsx("div",{className:"flex gap-2",children:s.links.map((r,t)=>{const m="px-4 py-2 rounded-xl font-medium transition-all duration-200 border-2",h="bg-gradient-to-r from-orange-600 to-red-600 text-white border-orange-600 shadow-lg",I="bg-white text-orange-600 border-orange-200 hover:bg-orange-50 hover:border-orange-300",B="bg-gray-100 text-gray-400 border-gray-200 cursor-not-allowed",w=W(r.label);return r.url?e.jsx("button",{className:`${m} ${r.active?h:I}`,onClick:()=>l.visit(r.url),dangerouslySetInnerHTML:{__html:w},type:"button"},t):e.jsx("button",{className:`${m} ${B}`,disabled:!0,dangerouslySetInnerHTML:{__html:w},type:"button"},t)})})]})})]})})]})}export{Ne as default};
